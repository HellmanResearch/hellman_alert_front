{"version":3,"file":"static/js/475.680c0f70.js","mappings":"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","sources":["../node_modules/echarts/lib/component/tooltip/TooltipRichContent.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\nimport { getPaddingFromTooltipModel } from './tooltipMarkup.js';\nimport { throwError } from '../../util/log.js';\n\nvar TooltipRichContent =\n/** @class */\nfunction () {\n  function TooltipRichContent(api) {\n    this._show = false;\n    this._styleCoord = [0, 0, 0, 0];\n    this._enterable = true;\n    this._zr = api.getZr();\n    makeStyleCoord(this._styleCoord, this._zr, api.getWidth() / 2, api.getHeight() / 2);\n  }\n  /**\n   * Update when tooltip is rendered\n   */\n\n\n  TooltipRichContent.prototype.update = function (tooltipModel) {\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveIfResized();\n  };\n\n  TooltipRichContent.prototype.show = function () {\n    if (this._hideTimeout) {\n      clearTimeout(this._hideTimeout);\n    }\n\n    this.el.show();\n    this._show = true;\n  };\n  /**\n   * Set tooltip content\n   */\n\n\n  TooltipRichContent.prototype.setContent = function (content, markupStyleCreator, tooltipModel, borderColor, arrowPosition) {\n    var _this = this;\n\n    if (zrUtil.isObject(content)) {\n      throwError(process.env.NODE_ENV !== 'production' ? 'Passing DOM nodes as content is not supported in richText tooltip!' : '');\n    }\n\n    if (this.el) {\n      this._zr.remove(this.el);\n    }\n\n    var textStyleModel = tooltipModel.getModel('textStyle');\n    this.el = new ZRText({\n      style: {\n        rich: markupStyleCreator.richTextStyles,\n        text: content,\n        lineHeight: 22,\n        borderWidth: 1,\n        borderColor: borderColor,\n        textShadowColor: textStyleModel.get('textShadowColor'),\n        fill: tooltipModel.get(['textStyle', 'color']),\n        padding: getPaddingFromTooltipModel(tooltipModel, 'richText'),\n        verticalAlign: 'top',\n        align: 'left'\n      },\n      z: tooltipModel.get('z')\n    });\n    zrUtil.each(['backgroundColor', 'borderRadius', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'], function (propName) {\n      _this.el.style[propName] = tooltipModel.get(propName);\n    });\n    zrUtil.each(['textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY'], function (propName) {\n      _this.el.style[propName] = textStyleModel.get(propName) || 0;\n    });\n\n    this._zr.add(this.el);\n\n    var self = this;\n    this.el.on('mouseover', function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n\n      self._inContent = true;\n    });\n    this.el.on('mouseout', function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n\n      self._inContent = false;\n    });\n  };\n\n  TooltipRichContent.prototype.setEnterable = function (enterable) {\n    this._enterable = enterable;\n  };\n\n  TooltipRichContent.prototype.getSize = function () {\n    var el = this.el;\n    var bounding = this.el.getBoundingRect(); // bounding rect does not include shadow. For renderMode richText,\n    // if overflow, it will be cut. So calculate them accurately.\n\n    var shadowOuterSize = calcShadowOuterSize(el.style);\n    return [bounding.width + shadowOuterSize.left + shadowOuterSize.right, bounding.height + shadowOuterSize.top + shadowOuterSize.bottom];\n  };\n\n  TooltipRichContent.prototype.moveTo = function (x, y) {\n    var el = this.el;\n\n    if (el) {\n      var styleCoord = this._styleCoord;\n      makeStyleCoord(styleCoord, this._zr, x, y);\n      x = styleCoord[0];\n      y = styleCoord[1];\n      var style = el.style;\n      var borderWidth = mathMaxWith0(style.borderWidth || 0);\n      var shadowOuterSize = calcShadowOuterSize(style); // rich text x, y do not include border.\n\n      el.x = x + borderWidth + shadowOuterSize.left;\n      el.y = y + borderWidth + shadowOuterSize.top;\n      el.markRedraw();\n    }\n  };\n  /**\n   * when `alwaysShowContent` is true,\n   * move the tooltip after chart resized\n   */\n\n\n  TooltipRichContent.prototype._moveIfResized = function () {\n    // The ratio of left to width\n    var ratioX = this._styleCoord[2]; // The ratio of top to height\n\n    var ratioY = this._styleCoord[3];\n    this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());\n  };\n\n  TooltipRichContent.prototype.hide = function () {\n    if (this.el) {\n      this.el.hide();\n    }\n\n    this._show = false;\n  };\n\n  TooltipRichContent.prototype.hideLater = function (time) {\n    if (this._show && !(this._inContent && this._enterable)) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater multiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  };\n\n  TooltipRichContent.prototype.isShow = function () {\n    return this._show;\n  };\n\n  TooltipRichContent.prototype.dispose = function () {\n    this._zr.remove(this.el);\n  };\n\n  return TooltipRichContent;\n}();\n\nfunction mathMaxWith0(val) {\n  return Math.max(0, val);\n}\n\nfunction calcShadowOuterSize(style) {\n  var shadowBlur = mathMaxWith0(style.shadowBlur || 0);\n  var shadowOffsetX = mathMaxWith0(style.shadowOffsetX || 0);\n  var shadowOffsetY = mathMaxWith0(style.shadowOffsetY || 0);\n  return {\n    left: mathMaxWith0(shadowBlur - shadowOffsetX),\n    right: mathMaxWith0(shadowBlur + shadowOffsetX),\n    top: mathMaxWith0(shadowBlur - shadowOffsetY),\n    bottom: mathMaxWith0(shadowBlur + shadowOffsetY)\n  };\n}\n\nfunction makeStyleCoord(out, zr, zrX, zrY) {\n  out[0] = zrX;\n  out[1] = zrY;\n  out[2] = out[0] / zr.getWidth();\n  out[3] = out[1] / zr.getHeight();\n}\n\nexport default TooltipRichContent;"],"names":["TooltipRichContent","api","this","_show","_styleCoord","_enterable","_zr","getZr","makeStyleCoord","getWidth","getHeight","prototype","update","tooltipModel","get","_moveIfResized","show","_hideTimeout","clearTimeout","el","setContent","content","markupStyleCreator","borderColor","arrowPosition","_this","zrUtil","throwError","remove","textStyleModel","getModel","ZRText","style","rich","richTextStyles","text","lineHeight","borderWidth","textShadowColor","fill","padding","getPaddingFromTooltipModel","verticalAlign","align","z","propName","add","self","on","_inContent","hideLater","_hideDelay","setEnterable","enterable","getSize","bounding","getBoundingRect","shadowOuterSize","calcShadowOuterSize","width","left","right","height","top","bottom","moveTo","x","y","styleCoord","mathMaxWith0","markRedraw","ratioX","ratioY","hide","time","setTimeout","isShow","dispose","val","Math","max","shadowBlur","shadowOffsetX","shadowOffsetY","out","zr","zrX","zrY"],"sourceRoot":""}
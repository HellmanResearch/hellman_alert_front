"use strict";(self.webpackChunkssv_front=self.webpackChunkssv_front||[]).push([[7105],{67105:function(t,e,o){o.d(e,{N:function(){return A}});var r=o(48609),a=o(32485),s=o(40651),n=o(81300),i=o(19993),l=o(9572),f=o(87815),p={seriesType:"lines",plan:(0,o(5402).Z)(),reset:function(t){var e=t.coordinateSystem;if(e){var o=t.get("polyline"),r=t.pipelineContext.large;return{progress:function(a,s){var n=[];if(r){var i=void 0,l=a.end-a.start;if(o){for(var f=0,p=a.start;p<a.end;p++)f+=t.getLineCoordsCount(p);i=new Float32Array(l+2*f)}else i=new Float32Array(4*l);var d=0,h=[];for(p=a.start;p<a.end;p++){var u=t.getLineCoords(p,n);o&&(i[d++]=u);for(var y=0;y<u;y++)h=e.dataToPoint(n[y],!1,h),i[d++]=h[0],i[d++]=h[1]}s.setLayout("linesPoints",i)}else for(p=a.start;p<a.end;p++){var c=s.getItemModel(p),g=(u=t.getLineCoords(p,n),[]);if(o)for(var v=0;v<u;v++)g.push(e.dataToPoint(n[v]));else{g[0]=e.dataToPoint(n[0]),g[1]=e.dataToPoint(n[1]);var m=c.get(["lineStyle","curveness"]);+m&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*m,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*m])}s.setItemLayout(p,g)}}}}}},d=o(83701),h=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return(0,r.ZT)(e,t),e.prototype.render=function(t,e,o){var r=t.getData(),a=this._updateLineDraw(r,t),s=t.get("zlevel"),n=t.get(["effect","trailLength"]),i=o.getZr(),l="svg"===i.painter.getType();l||i.painter.getLayer(s).clear(!0),null==this._lastZlevel||l||i.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&n>0&&(l||i.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(n/10+.9,1),0)})),a.updateData(r);var f=t.get("clip",!0)&&(0,d.lQ)(t.coordinateSystem,!1,t);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,o){var r=t.getData();this._updateLineDraw(r,t).incrementalPrepareUpdate(r),this._clearLayer(o),this._finished=!1},e.prototype.incrementalRender=function(t,e,o){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,e,o){var r=t.getData(),a=t.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var s=p.reset(t,e,o);s.progress&&s.progress({start:0,end:r.count(),count:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(o)},e.prototype._updateLineDraw=function(t,e){var o=this._lineDraw,r=this._showEffect(e),p=!!e.get("polyline"),d=e.pipelineContext.large;return o&&r===this._hasEffet&&p===this._isPolyline&&d===this._isLargeDraw||(o&&o.remove(),o=this._lineDraw=d?new f.Z:new a.Z(p?r?l.Z:i.Z:r?s.Z:n.Z),this._hasEffet=r,this._isPolyline=p,this._isLargeDraw=d),this.group.add(o.group),o},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.type="lines",e}(o(52037).Z),u=h,y=o(80654),c=o(76495),g=o(76884),v=o(6865),m="undefined"==typeof Uint32Array?Array:Uint32Array,_="undefined"==typeof Float64Array?Array:Float64Array;function C(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=(0,g.UI)(e,(function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),(0,g.Jn)([e,t[0],t[1]])})))}var w=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o.visualStyleAccessPath="lineStyle",o.visualDrawType="stroke",o}return(0,r.ZT)(e,t),e.prototype.init=function(e){e.data=e.data||[],C(e);var o=this._processFlatCoordsArray(e.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(e.data=new Float32Array(o.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(e){if(C(e),e.data){var o=this._processFlatCoordsArray(e.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(e.data=new Float32Array(o.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=(0,g.WW)(this._flatCoords,e.flatCoords),this._flatCoordsOffset=(0,g.WW)(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){for(var o=this._flatCoordsOffset[2*t],r=this._flatCoordsOffset[2*t+1],a=0;a<r;a++)e[a]=e[a]||[],e[a][0]=this._flatCoords[o+2*a],e[a][1]=this._flatCoords[o+2*a+1];return r}var s=this._getCoordsFromItemModel(t);for(a=0;a<s.length;a++)e[a]=e[a]||[],e[a][0]=s[a][0],e[a][1]=s[a][1];return s.length},e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),(0,g.hj)(t[0])){for(var o=t.length,r=new m(o),a=new _(o),s=0,n=0,i=0,l=0;l<o;){i++;var f=t[l++];r[n++]=s+e,r[n++]=f;for(var p=0;p<f;p++){var d=t[l++],h=t[l++];a[s++]=d,a[s++]=h}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,n),flatCoords:a,count:i}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,e){var o=new c.Z(["value"],this);return o.hasItemOption=!1,o.initData(t.data,[],(function(t,e,r,a){if(t instanceof Array)return NaN;o.hasItemOption=!0;var s=t.value;return null!=s?s instanceof Array?s[a]:s:void 0})),o},e.prototype.formatTooltip=function(t,e,o){var r=this.getData().getItemModel(t),a=r.get("name");if(a)return a;var s=r.get("fromName"),n=r.get("toName"),i=[];return null!=s&&i.push(s),null!=n&&i.push(n),(0,v.TX)("nameValue",{name:i.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),e=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&e>0?e+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(y.Z),D=w;function S(t){return t instanceof Array||(t=[t,t]),t}var L={seriesType:"lines",reset:function(t){var e=S(t.get("symbol")),o=S(t.get("symbolSize")),r=t.getData();return r.setVisual("fromSymbol",e&&e[0]),r.setVisual("toSymbol",e&&e[1]),r.setVisual("fromSymbolSize",o&&o[0]),r.setVisual("toSymbolSize",o&&o[1]),{dataEach:r.hasItemOption?function(t,e){var o=t.getItemModel(e),r=S(o.getShallow("symbol",!0)),a=S(o.getShallow("symbolSize",!0));r[0]&&t.setItemVisual(e,"fromSymbol",r[0]),r[1]&&t.setItemVisual(e,"toSymbol",r[1]),a[0]&&t.setItemVisual(e,"fromSymbolSize",a[0]),a[1]&&t.setItemVisual(e,"toSymbolSize",a[1])}:null}}};function A(t){t.registerChartView(u),t.registerSeriesModel(D),t.registerLayout(p),t.registerVisual(L)}}}]);
//# sourceMappingURL=7105.6585be04.js.map
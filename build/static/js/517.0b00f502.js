"use strict";(self.webpackChunkssv_front=self.webpackChunkssv_front||[]).push([[517],{20517:function(e,t,n){n.d(t,{N:function(){return w}});var o=n(44357),r=n(73088),i=n(71798);function l(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0}))}var a=n(76884);function c(e,t,n){var o,r={},i="toggleSelected"===e;return n.eachComponent("legend",(function(n){i&&null!=o?n[o?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?n[e]():(n[e](t.name),o=n.isSelected(t.name));var l=n.getData();(0,a.S6)(l,(function(e){var t=e.get("name");if("\n"!==t&&""!==t){var o=n.isSelected(t);r.hasOwnProperty(t)?r[t]=r[t]&&o:r[t]=o}}))})),"allSelect"===e||"inverseSelect"===e?{selected:r}:{name:t.name,selected:r}}function p(e){e.registerComponentModel(r.Z),e.registerComponentView(i.Z),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,l),e.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(e){e.registerAction("legendToggleSelect","legendselectchanged",(0,a.WA)(c,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",(0,a.WA)(c,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",(0,a.WA)(c,"inverseSelect")),e.registerAction("legendSelect","legendselected",(0,a.WA)(c,"select")),e.registerAction("legendUnSelect","legendunselected",(0,a.WA)(c,"unSelect"))}(e)}var g=n(48609),u=n(72705),s=n(8927),d=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,g.ZT)(t,e),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(t,n,o){var r=(0,u.tE)(t);e.prototype.init.call(this,t,n,o),h(this,t,r)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),h(this,this.option,t)},t.type="legend.scroll",t.defaultOption=(0,s.ZL)(r.Z.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(r.Z);function h(e,t,n){var o=[1,1];o[e.getOrient().index]=0,(0,u.dt)(t,n,{type:"box",ignoreSize:!!o})}var f=d,v=n(94060),x=n(56114),I=n(26871),y=n(75671),m=n(52320),S=v.Z,_=["width","height"],C=["x","y"],D=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return(0,g.ZT)(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new S),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new S)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(t,n,o,r,i,l,c){var p=this;e.prototype.renderInner.call(this,t,n,o,r,i,l,c);var g=this._controllerGroup,u=n.get("pageIconSize",!0),s=a.kJ(u)?u:[u,u];h("pagePrev",0);var d=n.getModel("pageTextStyle");function h(e,t){var o=e+"DataIndex",i=I.createIcon(n.get("pageIcons",!0)[n.getOrient().name][t],{onclick:a.ak(p._pageGo,p,o,n,r)},{x:-s[0]/2,y:-s[1]/2,width:s[0],height:s[1]});i.name=e,g.add(i)}g.add(new x.ZP({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),h("pageNext",1)},t.prototype.layoutInner=function(e,t,n,o,r,i){var l=this.getSelectorGroup(),c=e.getOrient().index,p=_[c],g=C[c],s=_[1-c],d=C[1-c];r&&u.BZ("horizontal",l,e.get("selectorItemGap",!0));var h=e.get("selectorButtonGap",!0),f=l.getBoundingRect(),v=[-f.x,-f.y],x=a.d9(n);r&&(x[p]=n[p]-f[p]-h);var I=this._layoutContentAndController(e,o,x,c,p,s,d,g);if(r){if("end"===i)v[c]+=I[p]+h;else{var y=f[p]+h;v[c]-=y,I[g]-=y}I[p]+=f[p]+h,v[1-c]+=I[d]+I[s]/2-f[s]/2,I[s]=Math.max(I[s],f[s]),I[d]=Math.min(I[d],f[d]+v[1-c]),l.x=v[0],l.y=v[1],l.markRedraw()}return I},t.prototype._layoutContentAndController=function(e,t,n,o,r,i,l,c){var p=this.getContentGroup(),g=this._containerGroup,s=this._controllerGroup;u.BZ(e.get("orient"),p,e.get("itemGap"),o?n.width:null,o?null:n.height),u.BZ("horizontal",s,e.get("pageButtonItemGap",!0));var d=p.getBoundingRect(),h=s.getBoundingRect(),f=this._showController=d[r]>n[r],v=[-d.x,-d.y];t||(v[o]=p[c]);var x=[0,0],I=[-h.x,-h.y],S=a.pD(e.get("pageButtonGap",!0),e.get("itemGap",!0));f&&("end"===e.get("pageButtonPosition",!0)?I[o]+=n[r]-h[r]:x[o]+=h[r]+S),I[1-o]+=d[i]/2-h[i]/2,p.setPosition(v),g.setPosition(x),s.setPosition(I);var _={x:0,y:0};if(_[r]=f?n[r]:d[r],_[i]=Math.max(d[i],h[i]),_[l]=Math.min(0,h[l]+I[1-o]),g.__rectSize=n[r],f){var C={x:0,y:0};C[r]=Math.max(n[r]-h[r]-S,0),C[i]=_[i],g.setClipPath(new y.Z({shape:C})),g.__rectSize=C[r]}else s.eachChild((function(e){e.attr({invisible:!0,silent:!0})}));var D=this._getPageInfo(e);return null!=D.pageIndex&&m.D(p,{x:D.contentPosition[0],y:D.contentPosition[1]},f?e:null),this._updatePageInfoView(e,D),_},t.prototype._pageGo=function(e,t,n){var o=this._getPageInfo(t)[e];null!=o&&n.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:t.id})},t.prototype._updatePageInfoView=function(e,t){var n=this._controllerGroup;a.S6(["pagePrev","pageNext"],(function(o){var r=null!=t[o+"DataIndex"],i=n.childOfName(o);i&&(i.setStyle("fill",r?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),i.cursor=r?"pointer":"default")}));var o=n.childOfName("pageText"),r=e.get("pageFormatter"),i=t.pageIndex,l=null!=i?i+1:0,c=t.pageCount;o&&r&&o.setStyle("text",a.HD(r)?r.replace("{current}",null==l?"":l+"").replace("{total}",null==c?"":c+""):r({current:l,total:c}))},t.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),o=this._containerGroup.__rectSize,r=e.getOrient().index,i=_[r],l=C[r],a=this._findTargetItemIndex(t),c=n.children(),p=c[a],g=c.length,u=g?1:0,s={contentPosition:[n.x,n.y],pageCount:u,pageIndex:u-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!p)return s;var d=I(p);s.contentPosition[r]=-d.s;for(var h=a+1,f=d,v=d,x=null;h<=g;++h)(!(x=I(c[h]))&&v.e>f.s+o||x&&!y(x,f.s))&&(f=v.i>f.i?v:x)&&(null==s.pageNextDataIndex&&(s.pageNextDataIndex=f.i),++s.pageCount),v=x;for(h=a-1,f=d,v=d,x=null;h>=-1;--h)(x=I(c[h]))&&y(v,x.s)||!(f.i<v.i)||(v=f,null==s.pagePrevDataIndex&&(s.pagePrevDataIndex=f.i),++s.pageCount,++s.pageIndex),f=x;return s;function I(e){if(e){var t=e.getBoundingRect(),n=t[l]+e[l];return{s:n,e:n+t[i],i:e.__legendDataIndex}}}function y(e,t){return e.e>=t&&e.s<=t+o}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild((function(o,r){var i=o.__legendDataIndex;null==n&&null!=i&&(n=r),i===e&&(t=r)})),null!=t?t:n):0;var t,n},t.type="legend.scroll",t}(i.Z),G=D;function P(e){(0,o.D)(p),e.registerComponentModel(f),e.registerComponentView(G),function(e){e.registerAction("legendScroll","legendscroll",(function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(n)}))}))}(e)}function w(e){(0,o.D)(p),(0,o.D)(P)}}}]);
//# sourceMappingURL=517.0b00f502.js.map
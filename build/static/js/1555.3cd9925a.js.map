{"version":3,"file":"static/js/1555.3cd9925a.js","mappings":"uMAmDIA,EAAYC,EAAAA,EAAAA,UACZC,EAAaD,EAAAA,EAAAA,WACbE,EAAUC,EAAAA,GACVC,EAAOD,EAAAA,GACPE,EAAMC,EAAAA,GACNC,EAAYD,EAAAA,GAEZE,EAEJ,SAAUC,GAGR,SAASD,IACP,IAAIE,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMC,KAAMC,YAAcD,KAgBhE,OAdAF,EAAMI,KAAON,EAAeM,KAC5BJ,EAAMK,UAAY,CAAC,UAAW,cAC9BL,EAAMM,qBAAuB,CAAC,UAAW,aAAc,SAAU,aAAc,SAC/EN,EAAMO,WAAa,CACjBH,KAAM,MACNI,YAAY,GAMdR,EAAMS,UAAY,EAAEC,IAAUA,KAC9BV,EAAMW,cAAgB,CAAC,EACvBX,EAAMY,kBAAoB,CAAC,EACpBZ,CACT,CAsYA,OA1ZAa,EAAAA,EAAAA,IAAUf,EAAgBC,GAsB1BD,EAAegB,UAAUC,KAAO,SAAUC,EAAQC,EAAaC,GAC7DhB,KAAKiB,qBAAqBH,EAAQE,EACpC,EAMApB,EAAegB,UAAUM,cAAgB,SAAUC,EAAWC,GAC5D,IAAIC,EAAarB,KAAKc,QACrBM,GAAUE,EAAAA,GAAmCD,EAAYF,EAAWnB,KAAKI,sBAC1EJ,KAAKuB,eAAiBvB,KAAKwB,SAAS,aACpCxB,KAAKyB,gBACLzB,KAAK0B,sBACP,EAMA9B,EAAegB,UAAUe,YAAc,SAAUC,GAC/C,IAAIzB,EAAYH,KAAKG,UACrByB,EAAyBrC,EAAAA,GAAYqC,EAAwB5B,MAC7DA,KAAKU,kBAAoBY,EAAAA,GAAoCtB,KAAKc,OAAOe,WAAY1B,EAAWyB,GAChG5B,KAAKS,cAAgBa,EAAAA,GAAoCtB,KAAKc,OAAOgB,OAAQ3B,EAAWyB,EAC1F,EAMAhC,EAAegB,UAAUmB,cAAgB,WACvC,OAAO,IACT,EAOAnC,EAAegB,UAAUoB,uBAAyB,WAChD,IAAIC,EAAoBjC,KAAKc,OAAOoB,YAChCC,EAAgB,GAUpB,OARyB,MAArBF,GAAmD,QAAtBA,EAC/BjC,KAAKgB,QAAQoB,YAAW,SAAUC,EAAaC,GAC7CH,EAAcI,KAAKD,EACrB,IAEAH,EAAgBK,EAAAA,GAA2BP,GAGtCE,CACT,EAMAvC,EAAegB,UAAU6B,iBAAmB,SAAUC,EAAUC,GAC9DpD,EAAAA,GAAYS,KAAKgC,0BAA0B,SAAUE,GACnD,IAAIG,EAAcrC,KAAKgB,QAAQ4B,iBAAiBV,GAE5CG,GACFK,EAASG,KAAKF,EAASN,EAE3B,GAAGrC,KACL,EAMAJ,EAAegB,UAAUkC,eAAiB,SAAUT,GAClD,IAAIU,GAAK,EAIT,OAHA/C,KAAKyC,kBAAiB,SAAUO,GAC9BA,IAAUX,IAAgBU,GAAK,EACjC,IACOA,CACT,EAgBAnD,EAAegB,UAAUqC,gBAAkB,SAAUC,EAAOC,EAAYC,GACtE,IAIIC,EAJAvC,EAASd,KAAKc,OACdwC,EAAYxC,EAAOwC,UACnB/C,EAAYP,KAAKO,UACjBgD,EAAYzC,EAAOyC,UAEvBH,EAAcA,GAAe,CAAC,IAAK,KAE/B7D,EAAAA,GAAe2D,KACjBA,EAAQA,EAAMM,QACdH,GAAW,GAGb,IAAII,EAAYN,EAAaD,EAC3BG,EAAW,CAACK,EAAQR,EAAM,IAAKQ,EAAQR,EAAM,KAAOQ,EAAQR,GAE9D,OAAI3D,EAAAA,GAAgBgE,GACXA,EAAUI,QAAQ,UAAWN,EAAWI,EAAU,GAAKA,GAAWE,QAAQ,WAAYN,EAAWI,EAAU,GAAKA,GAC9GlE,EAAAA,GAAkBgE,GACpBF,EAAWE,EAAUL,EAAM,GAAIA,EAAM,IAAMK,EAAUL,GAG1DG,EACEH,EAAM,KAAO3C,EAAU,GAClB6C,EAAY,GAAK,IAAMK,EAAU,GAC/BP,EAAM,KAAO3C,EAAU,GACzB6C,EAAY,GAAK,IAAMK,EAAU,GAEjCA,EAAU,GAAK,MAAQA,EAAU,GAInCA,EAGT,SAASC,EAAQE,GACf,OAAOA,IAAQrD,EAAU,GAAK,MAAQqD,IAAQrD,EAAU,GAAK,QAAUqD,GAAKF,QAAQG,KAAKC,IAAIR,EAAW,IAC1G,CACF,EAMA1D,EAAegB,UAAUmD,YAAc,WACrC,IAAI1C,EAAarB,KAAKc,OAIlBkD,EAASvE,EAAI,CAAC4B,EAAWyC,IAAKzC,EAAW4C,MAC7CjE,KAAKkE,YAAcF,CACrB,EAuBApE,EAAegB,UAAUuD,sBAAwB,SAAUC,GACzD,IAAIC,EAASrE,KAAKc,OAAOwD,UAEzB,GAAc,MAAVD,EACF,OAAOD,EAAKG,kBAAkBF,GAKhC,IAFA,IAAIG,EAAWJ,EAAKK,WAEXC,EAAIF,EAASG,OAAS,EAAGD,GAAK,EAAGA,IAAK,CAC7C,IAAIE,EAAUJ,EAASE,GACnBG,EAAUT,EAAKU,iBAAiBF,GAEpC,IAAKC,EAAQE,mBACX,OAAOF,EAAQG,aAEnB,CACF,EAEApF,EAAegB,UAAUqE,UAAY,WACnC,OAAOjF,KAAKkE,YAAYV,OAC1B,EAEA5D,EAAegB,UAAUc,qBAAuB,WAC9C,IAAIV,EAAUhB,KAAKgB,QACfK,EAAarB,KAAKc,OAClBoE,EAAO,CACTC,QAAS9D,EAAW8D,QACpBC,WAAY/D,EAAW+D,YAErBtD,EAAST,EAAWS,SAAWT,EAAWS,OAAS,CAAC,GACpDD,EAAaR,EAAWQ,aAAeR,EAAWQ,WAAa,CAAC,GACpEtC,EAAAA,GAAauC,EAAQoD,GAErB3F,EAAAA,GAAasC,EAAYqD,GAEzB,IAAI/B,EAAanD,KAAKmD,aAOtB,SAASkC,EAAeH,GAKlB5F,EAAQ+B,EAAWiE,SAEnBJ,EAAKC,UACPD,EAAKC,QAAU,CACbG,MAAOjE,EAAWiE,MAAM9B,QAAQ+B,YAUpCL,EAAKC,QAAUD,EAAKC,SAAW,CAC7BG,MAAOtE,EAAQwE,IAAI,iBAEvB,CA5BAH,EAAexC,KAAK7C,KAAM8B,GAC1BuD,EAAexC,KAAK7C,KAAM6B,GA6B1B,SAA0BqD,EAAMO,EAAYC,GAC1C,IAAIC,EAAWT,EAAKO,GAChBG,EAAYV,EAAKQ,GAEjBC,IAAaC,IACfA,EAAYV,EAAKQ,GAAe,CAAC,EACjClG,EAAKmG,GAAU,SAAUE,EAAYC,GACnC,GAAK1G,EAAAA,EAAAA,YAA0B0G,GAA/B,CAIA,IAAIC,EAAOC,EAAAA,EAAAA,IAAkBF,EAAY,WAAY3C,GAEzC,MAAR4C,IACFH,EAAUE,GAAcC,EAIL,UAAfD,GAA2BF,EAAUK,eAAe,YAAeL,EAAUK,eAAe,gBAC9FL,EAAUM,QAAU,CAAC,EAAG,IAV5B,CAaF,IAEJ,EApDiBrD,KAAK7C,KAAM8B,EAAQ,UAAW,cAsD/C,SAA4BD,GAC1B,IAAIsE,GAAgBtE,EAAWsD,SAAW,CAAC,GAAGiB,SAAWvE,EAAWuD,YAAc,CAAC,GAAGgB,OAClFC,GAAoBxE,EAAWsD,SAAW,CAAC,GAAGmB,aAAezE,EAAWuD,YAAc,CAAC,GAAGkB,WAC1FC,EAAgBvG,KAAKwF,IAAI,iBAEzBgB,EADaxG,KAAK+B,iBACY,YAClCvC,EAAKQ,KAAKG,WAAW,SAAUsG,GAC7B,IAAIC,EAAW1G,KAAK0G,SAChBC,EAAU9E,EAAW4E,GAGpBE,IACHA,EAAU9E,EAAW4E,GAAS,CAC5BnB,MAAOnC,EAAaoD,EAAgB,CAACA,KAKnB,MAAlBI,EAAQP,SACVO,EAAQP,OAASD,GAAgB5G,EAAAA,GAAa4G,KAAkBhD,EAAaqD,EAAgB,CAACA,KAGtE,MAAtBG,EAAQL,aACVK,EAAQL,WAAaD,GAAoB9G,EAAAA,GAAa8G,KAAsBlD,EAAauD,EAAS,GAAK,CAACA,EAAS,GAAIA,EAAS,MAIhIC,EAAQP,OAASjH,EAAUwH,EAAQP,QAAQ,SAAUA,GACnD,MAAkB,SAAXA,EAAoBI,EAAgBJ,CAC7C,IAEA,IAAIE,EAAaK,EAAQL,WAEzB,GAAkB,MAAdA,EAAoB,CACtB,IAAIM,GAASpG,IAEbnB,EAAWiH,GAAY,SAAUpD,GAC/BA,EAAQ0D,IAAUA,EAAQ1D,EAC5B,IACAyD,EAAQL,WAAanH,EAAUmH,GAAY,SAAUpD,GACnD,OAAOvD,EAAUuD,EAAO,CAAC,EAAG0D,GAAQ,CAAC,EAAGF,EAAS,KAAK,EACxD,GACF,CACF,GAAG1G,KACL,EAhGmB6C,KAAK7C,KAAM6B,EAiGhC,EAEAjC,EAAegB,UAAUa,cAAgB,WACvCzB,KAAK0G,SAAW,CAACG,WAAW7G,KAAKwF,IAAI,cAAeqB,WAAW7G,KAAKwF,IAAI,eAC1E,EAEA5F,EAAegB,UAAUuC,WAAa,WACpC,QAASnD,KAAKc,OAAOgG,UACvB,EAOAlH,EAAegB,UAAUmG,YAAc,SAAUC,GAAW,EAE5DpH,EAAegB,UAAUqG,YAAc,WACrC,OAAO,IACT,EAOArH,EAAegB,UAAUsG,cAAgB,SAAUhE,GACjD,OAAO,IACT,EAkBAtD,EAAegB,UAAUuG,cAAgB,SAAUC,GACjD,OAAO,IACT,EAEAxH,EAAeM,KAAO,YACtBN,EAAeyH,aAAe,CAAC,UAC/BzH,EAAe0H,cAAgB,CAC7BC,MAAM,EAENC,EAAG,EACHtF,YAAa,MACb4B,IAAK,EACLG,IAAK,IACLwD,KAAM,EACNC,MAAO,KACPC,IAAK,KACLC,OAAQ,EACRC,UAAW,KACXC,WAAY,KACZC,SAAS,EACTC,OAAQ,WACRC,gBAAiB,gBACjBC,YAAa,OACbC,aAAc,UACd5B,cAAe,OACf6B,YAAa,EACbC,QAAS,EAETC,QAAS,GACThF,UAAW,EACXiF,UAAW,CACTjD,MAAO,SAIJ1F,CACT,CA5ZA,CA4ZE4I,EAAAA,GAEF,K,4FCvaIC,EAEJ,SAAU5I,GAGR,SAAS4I,IACP,IAAI3I,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMC,KAAMC,YAAcD,KAShE,OAPAF,EAAMI,KAAOuI,EAAcvI,KAC3BJ,EAAM4I,mBAAqB,CACzBjB,KAAM,EACNC,MAAO,EACPC,IAAK,EACLC,OAAQ,GAEH9H,CACT,CA0GA,OAvHAa,EAAAA,EAAAA,IAAU8H,EAAe5I,GAezB4I,EAAc7H,UAAUC,KAAO,SAAUG,EAAS2H,GAChD3I,KAAKgB,QAAUA,EACfhB,KAAK2I,IAAMA,CACb,EAMAF,EAAc7H,UAAUgI,OAAS,SAAUC,EAAgB7H,EAAS2H,EAAKG,GAEvE9I,KAAK6I,eAAiBA,GAEa,IAA/BA,EAAerD,IAAI,QAKvBxF,KAAK+I,SAASF,EAAgB7H,EAAS2H,EAAKG,GAJ1C9I,KAAKgJ,MAAMC,WAKf,EAMAR,EAAc7H,UAAUsI,iBAAmB,SAAUF,GACnD,IAAIH,EAAiB7I,KAAK6I,eACtBR,EAAUc,EAAAA,GAA6BN,EAAerD,IAAI,YAAc,GACxE4D,EAAOJ,EAAMK,kBACjBL,EAAMM,IAAI,IAAIC,EAAAA,EAAK,CACjBC,IAAK,EACLC,QAAQ,EACRC,MAAO,CACLC,EAAGP,EAAKO,EAAItB,EAAQ,GACpBuB,EAAGR,EAAKQ,EAAIvB,EAAQ,GACpBwB,MAAOT,EAAKS,MAAQxB,EAAQ,GAAKA,EAAQ,GACzCyB,OAAQV,EAAKU,OAASzB,EAAQ,GAAKA,EAAQ,IAE7C0B,MAAO,CACLC,KAAMnB,EAAerD,IAAI,mBACzByE,OAAQpB,EAAerD,IAAI,eAC3B0E,UAAWrB,EAAerD,IAAI,kBAGpC,EAYAiD,EAAc7H,UAAUuJ,oBAAsB,SAAUC,EAAaC,EAAeC,GAElF,IAAIC,GADJD,EAAOA,GAAQ,CAAC,GACMC,WAClB1B,EAAiB7I,KAAK6I,eACtB2B,EAAY,CAAC,EAEjB,GAAsB,UAAlBH,EAA2B,CAC7B,IAAII,EAAe5B,EAAerD,IAAI,gBACtCgF,EAAUlF,MAAQmF,CACpB,CAEA,SAASC,EAAOC,GACd,OAAOH,EAAUG,EACnB,CAEA,SAASC,EAAOD,EAAKzH,GACnBsH,EAAUG,GAAOzH,CACnB,CAEA,IAAI2H,EAAWhC,EAAenI,kBAAkB6J,GAAc1B,EAAe3B,cAAckD,IACvFU,EAAc1L,EAAAA,EAAAA,mBAAiCyL,GAanD,OAZAtL,EAAAA,GAAYuL,GAAa,SAAU5K,GACjC,IAAI6K,EAAgBF,EAAS3K,GAEzBoK,EAAKU,uBAAkC,YAAT9K,IAChCA,EAAO,aACP6K,EAAgBF,EAASI,mBAGvB7L,EAAAA,EAAAA,UAAwBc,EAAMmK,IAChCU,GAAiBA,EAAcG,YAAYd,EAAaM,EAAQE,EAEpE,IACOJ,EAAUH,EACnB,EAEA5B,EAAc7H,UAAUuK,cAAgB,SAAUnC,GAChD,IAAIhG,EAAQhD,KAAK6I,eACbF,EAAM3I,KAAK2I,IACfyC,EAAAA,GAAuBpC,EAAOhG,EAAMqI,qBAAsB,CACxDxB,MAAOlB,EAAI2C,WACXxB,OAAQnB,EAAI4C,aAEhB,EAEA9C,EAAc7H,UAAUmI,SAAW,SAAUF,EAAgB7H,EAAS2H,EAAKG,GAAU,EAErFL,EAAcvI,KAAO,YACduI,CACT,CAzHA,C,SAyHE+C,GAEF,K,yGCnIIC,EAAY,CAAC,CAAC,OAAQ,QAAS,SAAU,CAAC,MAAO,SAAU,WAQxD,SAASC,EAAa7C,EAAgBF,EAAKjC,GAChD,IAAIiF,EAAc9C,EAAe/H,OAC7B8K,EAAYD,EAAYE,MAE5B,GAAiB,MAAbD,GAAmC,SAAdA,EACvB,OAAOA,EAaT,IATA,IAAIE,EAAS,CACXjC,MAAOlB,EAAI2C,WACXxB,OAAQnB,EAAI4C,aAEVQ,EAAmC,eAAvBJ,EAAY3D,OAA0B,EAAI,EACtDgE,EAAQP,EAAUM,GAClBE,EAAY,CAAC,EAAG,KAAM,IACtBC,EAAc,CAAC,EAEVxH,EAAI,EAAGA,EAAI,EAAGA,IACrBwH,EAAYT,EAAU,EAAIM,GAAWrH,IAAMuH,EAAUvH,GACrDwH,EAAYF,EAAMtH,IAAY,IAANA,EAAUgC,EAAS,GAAKiF,EAAYK,EAAMtH,IAGpE,IAAIyH,EAAS,CAAC,CAAC,IAAK,QAAS,GAAI,CAAC,IAAK,SAAU,IAAIJ,GACjD3C,GAAOgD,EAAAA,EAAAA,IAAcF,EAAaJ,EAAQH,EAAYtD,SAC1D,OAAO2D,GAAO5C,EAAKiD,OAAOF,EAAO,KAAO,GAAK/C,EAAK+C,EAAO,IAAwB,GAAlB/C,EAAK+C,EAAO,IAAgC,GAApBL,EAAOK,EAAO,IAAY,EAAI,EACvH,CAOO,SAASG,EAAkBC,EAAO1D,GASvC,OARAtJ,EAAAA,GAAYgN,GAAS,IAAI,SAAUC,GACN,MAAvBA,EAAUC,YACZD,EAAUE,gBAAkBF,EAAUC,UACtCD,EAAUC,UAAY,MAGxBD,EAAUG,aAAe,aAAe9D,EAAiBA,EAAe+D,eAAiB,GAC3F,IACOL,CACT,C","sources":["../node_modules/echarts/lib/component/visualMap/VisualMapModel.js","../node_modules/echarts/lib/component/visualMap/VisualMapView.js","../node_modules/echarts/lib/component/visualMap/helper.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport visualDefault from '../../visual/visualDefault.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport * as modelUtil from '../../util/model.js';\nimport * as numberUtil from '../../util/number.js';\nimport ComponentModel from '../../model/Component.js';\nvar mapVisual = VisualMapping.mapVisual;\nvar eachVisual = VisualMapping.eachVisual;\nvar isArray = zrUtil.isArray;\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\nvar linearMap = numberUtil.linearMap;\n\nvar VisualMapModel =\n/** @class */\nfunction (_super) {\n  __extends(VisualMapModel, _super);\n\n  function VisualMapModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = VisualMapModel.type;\n    _this.stateList = ['inRange', 'outOfRange'];\n    _this.replacableOptionKeys = ['inRange', 'outOfRange', 'target', 'controller', 'color'];\n    _this.layoutMode = {\n      type: 'box',\n      ignoreSize: true\n    };\n    /**\n     * [lowerBound, upperBound]\n     */\n\n    _this.dataBound = [-Infinity, Infinity];\n    _this.targetVisuals = {};\n    _this.controllerVisuals = {};\n    return _this;\n  }\n\n  VisualMapModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  };\n  /**\n   * @protected\n   */\n\n\n  VisualMapModel.prototype.optionUpdated = function (newOption, isInit) {\n    var thisOption = this.option;\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, this.replacableOptionKeys);\n    this.textStyleModel = this.getModel('textStyle');\n    this.resetItemSize();\n    this.completeVisualOption();\n  };\n  /**\n   * @protected\n   */\n\n\n  VisualMapModel.prototype.resetVisual = function (supplementVisualOption) {\n    var stateList = this.stateList;\n    supplementVisualOption = zrUtil.bind(supplementVisualOption, this);\n    this.controllerVisuals = visualSolution.createVisualMappings(this.option.controller, stateList, supplementVisualOption);\n    this.targetVisuals = visualSolution.createVisualMappings(this.option.target, stateList, supplementVisualOption);\n  };\n  /**\n   * @public\n   */\n\n\n  VisualMapModel.prototype.getItemSymbol = function () {\n    return null;\n  };\n  /**\n   * @protected\n   * @return {Array.<number>} An array of series indices.\n   */\n\n\n  VisualMapModel.prototype.getTargetSeriesIndices = function () {\n    var optionSeriesIndex = this.option.seriesIndex;\n    var seriesIndices = [];\n\n    if (optionSeriesIndex == null || optionSeriesIndex === 'all') {\n      this.ecModel.eachSeries(function (seriesModel, index) {\n        seriesIndices.push(index);\n      });\n    } else {\n      seriesIndices = modelUtil.normalizeToArray(optionSeriesIndex);\n    }\n\n    return seriesIndices;\n  };\n  /**\n   * @public\n   */\n\n\n  VisualMapModel.prototype.eachTargetSeries = function (callback, context) {\n    zrUtil.each(this.getTargetSeriesIndices(), function (seriesIndex) {\n      var seriesModel = this.ecModel.getSeriesByIndex(seriesIndex);\n\n      if (seriesModel) {\n        callback.call(context, seriesModel);\n      }\n    }, this);\n  };\n  /**\n   * @pubilc\n   */\n\n\n  VisualMapModel.prototype.isTargetSeries = function (seriesModel) {\n    var is = false;\n    this.eachTargetSeries(function (model) {\n      model === seriesModel && (is = true);\n    });\n    return is;\n  };\n  /**\n   * @example\n   * this.formatValueText(someVal); // format single numeric value to text.\n   * this.formatValueText(someVal, true); // format single category value to text.\n   * this.formatValueText([min, max]); // format numeric min-max to text.\n   * this.formatValueText([this.dataBound[0], max]); // using data lower bound.\n   * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.\n   *\n   * @param value Real value, or this.dataBound[0 or 1].\n   * @param isCategory Only available when value is number.\n   * @param edgeSymbols Open-close symbol when value is interval.\n   * @protected\n   */\n\n\n  VisualMapModel.prototype.formatValueText = function (value, isCategory, edgeSymbols) {\n    var option = this.option;\n    var precision = option.precision;\n    var dataBound = this.dataBound;\n    var formatter = option.formatter;\n    var isMinMax;\n    edgeSymbols = edgeSymbols || ['<', '>'];\n\n    if (zrUtil.isArray(value)) {\n      value = value.slice();\n      isMinMax = true;\n    }\n\n    var textValue = isCategory ? value // Value is string when isCategory\n    : isMinMax ? [toFixed(value[0]), toFixed(value[1])] : toFixed(value);\n\n    if (zrUtil.isString(formatter)) {\n      return formatter.replace('{value}', isMinMax ? textValue[0] : textValue).replace('{value2}', isMinMax ? textValue[1] : textValue);\n    } else if (zrUtil.isFunction(formatter)) {\n      return isMinMax ? formatter(value[0], value[1]) : formatter(value);\n    }\n\n    if (isMinMax) {\n      if (value[0] === dataBound[0]) {\n        return edgeSymbols[0] + ' ' + textValue[1];\n      } else if (value[1] === dataBound[1]) {\n        return edgeSymbols[1] + ' ' + textValue[0];\n      } else {\n        return textValue[0] + ' - ' + textValue[1];\n      }\n    } else {\n      // Format single value (includes category case).\n      return textValue;\n    }\n\n    function toFixed(val) {\n      return val === dataBound[0] ? 'min' : val === dataBound[1] ? 'max' : (+val).toFixed(Math.min(precision, 20));\n    }\n  };\n  /**\n   * @protected\n   */\n\n\n  VisualMapModel.prototype.resetExtent = function () {\n    var thisOption = this.option; // Can not calculate data extent by data here.\n    // Because series and data may be modified in processing stage.\n    // So we do not support the feature \"auto min/max\".\n\n    var extent = asc([thisOption.min, thisOption.max]);\n    this._dataExtent = extent;\n  };\n  /**\n   * PENDING:\n   * delete this method if no outer usage.\n   *\n   * Return  Concrete dimention. If return null/undefined, no dimension used.\n   */\n  // getDataDimension(data: SeriesData) {\n  //     const optDim = this.option.dimension;\n  //     if (optDim != null) {\n  //         return data.getDimension(optDim);\n  //     }\n  //     const dimNames = data.dimensions;\n  //     for (let i = dimNames.length - 1; i >= 0; i--) {\n  //         const dimName = dimNames[i];\n  //         const dimInfo = data.getDimensionInfo(dimName);\n  //         if (!dimInfo.isCalculationCoord) {\n  //             return dimName;\n  //         }\n  //     }\n  // }\n\n\n  VisualMapModel.prototype.getDataDimensionIndex = function (data) {\n    var optDim = this.option.dimension;\n\n    if (optDim != null) {\n      return data.getDimensionIndex(optDim);\n    }\n\n    var dimNames = data.dimensions;\n\n    for (var i = dimNames.length - 1; i >= 0; i--) {\n      var dimName = dimNames[i];\n      var dimInfo = data.getDimensionInfo(dimName);\n\n      if (!dimInfo.isCalculationCoord) {\n        return dimInfo.storeDimIndex;\n      }\n    }\n  };\n\n  VisualMapModel.prototype.getExtent = function () {\n    return this._dataExtent.slice();\n  };\n\n  VisualMapModel.prototype.completeVisualOption = function () {\n    var ecModel = this.ecModel;\n    var thisOption = this.option;\n    var base = {\n      inRange: thisOption.inRange,\n      outOfRange: thisOption.outOfRange\n    };\n    var target = thisOption.target || (thisOption.target = {});\n    var controller = thisOption.controller || (thisOption.controller = {});\n    zrUtil.merge(target, base); // Do not override\n\n    zrUtil.merge(controller, base); // Do not override\n\n    var isCategory = this.isCategory();\n    completeSingle.call(this, target);\n    completeSingle.call(this, controller);\n    completeInactive.call(this, target, 'inRange', 'outOfRange'); // completeInactive.call(this, target, 'outOfRange', 'inRange');\n\n    completeController.call(this, controller);\n\n    function completeSingle(base) {\n      // Compatible with ec2 dataRange.color.\n      // The mapping order of dataRange.color is: [high value, ..., low value]\n      // whereas inRange.color and outOfRange.color is [low value, ..., high value]\n      // Notice: ec2 has no inverse.\n      if (isArray(thisOption.color) // If there has been inRange: {symbol: ...}, adding color is a mistake.\n      // So adding color only when no inRange defined.\n      && !base.inRange) {\n        base.inRange = {\n          color: thisOption.color.slice().reverse()\n        };\n      } // Compatible with previous logic, always give a defautl color, otherwise\n      // simple config with no inRange and outOfRange will not work.\n      // Originally we use visualMap.color as the default color, but setOption at\n      // the second time the default color will be erased. So we change to use\n      // constant DEFAULT_COLOR.\n      // If user do not want the default color, set inRange: {color: null}.\n\n\n      base.inRange = base.inRange || {\n        color: ecModel.get('gradientColor')\n      };\n    }\n\n    function completeInactive(base, stateExist, stateAbsent) {\n      var optExist = base[stateExist];\n      var optAbsent = base[stateAbsent];\n\n      if (optExist && !optAbsent) {\n        optAbsent = base[stateAbsent] = {};\n        each(optExist, function (visualData, visualType) {\n          if (!VisualMapping.isValidType(visualType)) {\n            return;\n          }\n\n          var defa = visualDefault.get(visualType, 'inactive', isCategory);\n\n          if (defa != null) {\n            optAbsent[visualType] = defa; // Compatibable with ec2:\n            // Only inactive color to rgba(0,0,0,0) can not\n            // make label transparent, so use opacity also.\n\n            if (visualType === 'color' && !optAbsent.hasOwnProperty('opacity') && !optAbsent.hasOwnProperty('colorAlpha')) {\n              optAbsent.opacity = [0, 0];\n            }\n          }\n        });\n      }\n    }\n\n    function completeController(controller) {\n      var symbolExists = (controller.inRange || {}).symbol || (controller.outOfRange || {}).symbol;\n      var symbolSizeExists = (controller.inRange || {}).symbolSize || (controller.outOfRange || {}).symbolSize;\n      var inactiveColor = this.get('inactiveColor');\n      var itemSymbol = this.getItemSymbol();\n      var defaultSymbol = itemSymbol || 'roundRect';\n      each(this.stateList, function (state) {\n        var itemSize = this.itemSize;\n        var visuals = controller[state]; // Set inactive color for controller if no other color\n        // attr (like colorAlpha) specified.\n\n        if (!visuals) {\n          visuals = controller[state] = {\n            color: isCategory ? inactiveColor : [inactiveColor]\n          };\n        } // Consistent symbol and symbolSize if not specified.\n\n\n        if (visuals.symbol == null) {\n          visuals.symbol = symbolExists && zrUtil.clone(symbolExists) || (isCategory ? defaultSymbol : [defaultSymbol]);\n        }\n\n        if (visuals.symbolSize == null) {\n          visuals.symbolSize = symbolSizeExists && zrUtil.clone(symbolSizeExists) || (isCategory ? itemSize[0] : [itemSize[0], itemSize[0]]);\n        } // Filter none\n\n\n        visuals.symbol = mapVisual(visuals.symbol, function (symbol) {\n          return symbol === 'none' ? defaultSymbol : symbol;\n        }); // Normalize symbolSize\n\n        var symbolSize = visuals.symbolSize;\n\n        if (symbolSize != null) {\n          var max_1 = -Infinity; // symbolSize can be object when categories defined.\n\n          eachVisual(symbolSize, function (value) {\n            value > max_1 && (max_1 = value);\n          });\n          visuals.symbolSize = mapVisual(symbolSize, function (value) {\n            return linearMap(value, [0, max_1], [0, itemSize[0]], true);\n          });\n        }\n      }, this);\n    }\n  };\n\n  VisualMapModel.prototype.resetItemSize = function () {\n    this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))];\n  };\n\n  VisualMapModel.prototype.isCategory = function () {\n    return !!this.option.categories;\n  };\n  /**\n   * @public\n   * @abstract\n   */\n\n\n  VisualMapModel.prototype.setSelected = function (selected) {};\n\n  VisualMapModel.prototype.getSelected = function () {\n    return null;\n  };\n  /**\n   * @public\n   * @abstract\n   */\n\n\n  VisualMapModel.prototype.getValueState = function (value) {\n    return null;\n  };\n  /**\n   * FIXME\n   * Do not publish to thirt-part-dev temporarily\n   * util the interface is stable. (Should it return\n   * a function but not visual meta?)\n   *\n   * @pubilc\n   * @abstract\n   * @param getColorVisual\n   *        params: value, valueState\n   *        return: color\n   * @return {Object} visualMeta\n   *        should includes {stops, outerColors}\n   *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]\n   */\n\n\n  VisualMapModel.prototype.getVisualMeta = function (getColorVisual) {\n    return null;\n  };\n\n  VisualMapModel.type = 'visualMap';\n  VisualMapModel.dependencies = ['series'];\n  VisualMapModel.defaultOption = {\n    show: true,\n    // zlevel: 0,\n    z: 4,\n    seriesIndex: 'all',\n    min: 0,\n    max: 200,\n    left: 0,\n    right: null,\n    top: null,\n    bottom: 0,\n    itemWidth: null,\n    itemHeight: null,\n    inverse: false,\n    orient: 'vertical',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    contentColor: '#5793f3',\n    inactiveColor: '#aaa',\n    borderWidth: 0,\n    padding: 5,\n    // 接受数组分别设定上右下左边距，同css\n    textGap: 10,\n    precision: 0,\n    textStyle: {\n      color: '#333' // 值域文字颜色\n\n    }\n  };\n  return VisualMapModel;\n}(ComponentModel);\n\nexport default VisualMapModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { Rect } from '../../util/graphic.js';\nimport * as formatUtil from '../../util/format.js';\nimport * as layout from '../../util/layout.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport ComponentView from '../../view/Component.js';\n\nvar VisualMapView =\n/** @class */\nfunction (_super) {\n  __extends(VisualMapView, _super);\n\n  function VisualMapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = VisualMapView.type;\n    _this.autoPositionValues = {\n      left: 1,\n      right: 1,\n      top: 1,\n      bottom: 1\n    };\n    return _this;\n  }\n\n  VisualMapView.prototype.init = function (ecModel, api) {\n    this.ecModel = ecModel;\n    this.api = api;\n  };\n  /**\n   * @protected\n   */\n\n\n  VisualMapView.prototype.render = function (visualMapModel, ecModel, api, payload // TODO: TYPE\n  ) {\n    this.visualMapModel = visualMapModel;\n\n    if (visualMapModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n\n    this.doRender(visualMapModel, ecModel, api, payload);\n  };\n  /**\n   * @protected\n   */\n\n\n  VisualMapView.prototype.renderBackground = function (group) {\n    var visualMapModel = this.visualMapModel;\n    var padding = formatUtil.normalizeCssArray(visualMapModel.get('padding') || 0);\n    var rect = group.getBoundingRect();\n    group.add(new Rect({\n      z2: -1,\n      silent: true,\n      shape: {\n        x: rect.x - padding[3],\n        y: rect.y - padding[0],\n        width: rect.width + padding[3] + padding[1],\n        height: rect.height + padding[0] + padding[2]\n      },\n      style: {\n        fill: visualMapModel.get('backgroundColor'),\n        stroke: visualMapModel.get('borderColor'),\n        lineWidth: visualMapModel.get('borderWidth')\n      }\n    }));\n  };\n  /**\n   * @protected\n   * @param targetValue can be Infinity or -Infinity\n   * @param visualCluster Only can be 'color' 'opacity' 'symbol' 'symbolSize'\n   * @param opts\n   * @param opts.forceState Specify state, instead of using getValueState method.\n   * @param opts.convertOpacityToAlpha For color gradient in controller widget.\n   * @return {*} Visual value.\n   */\n\n\n  VisualMapView.prototype.getControllerVisual = function (targetValue, visualCluster, opts) {\n    opts = opts || {};\n    var forceState = opts.forceState;\n    var visualMapModel = this.visualMapModel;\n    var visualObj = {}; // Default values.\n\n    if (visualCluster === 'color') {\n      var defaultColor = visualMapModel.get('contentColor');\n      visualObj.color = defaultColor;\n    }\n\n    function getter(key) {\n      return visualObj[key];\n    }\n\n    function setter(key, value) {\n      visualObj[key] = value;\n    }\n\n    var mappings = visualMapModel.controllerVisuals[forceState || visualMapModel.getValueState(targetValue)];\n    var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n    zrUtil.each(visualTypes, function (type) {\n      var visualMapping = mappings[type];\n\n      if (opts.convertOpacityToAlpha && type === 'opacity') {\n        type = 'colorAlpha';\n        visualMapping = mappings.__alphaForOpacity;\n      }\n\n      if (VisualMapping.dependsOn(type, visualCluster)) {\n        visualMapping && visualMapping.applyVisual(targetValue, getter, setter);\n      }\n    });\n    return visualObj[visualCluster];\n  };\n\n  VisualMapView.prototype.positionGroup = function (group) {\n    var model = this.visualMapModel;\n    var api = this.api;\n    layout.positionElement(group, model.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  };\n\n  VisualMapView.prototype.doRender = function (visualMapModel, ecModel, api, payload) {};\n\n  VisualMapView.type = 'visualMap';\n  return VisualMapView;\n}(ComponentView);\n\nexport default VisualMapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getLayoutRect } from '../../util/layout.js';\nvar paramsSet = [['left', 'right', 'width'], ['top', 'bottom', 'height']];\n/**\n * @param visualMapModel\n * @param api\n * @param itemSize always [short, long]\n * @return {string} 'left' or 'right' or 'top' or 'bottom'\n */\n\nexport function getItemAlign(visualMapModel, api, itemSize) {\n  var modelOption = visualMapModel.option;\n  var itemAlign = modelOption.align;\n\n  if (itemAlign != null && itemAlign !== 'auto') {\n    return itemAlign;\n  } // Auto decision align.\n\n\n  var ecSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var realIndex = modelOption.orient === 'horizontal' ? 1 : 0;\n  var reals = paramsSet[realIndex];\n  var fakeValue = [0, null, 10];\n  var layoutInput = {};\n\n  for (var i = 0; i < 3; i++) {\n    layoutInput[paramsSet[1 - realIndex][i]] = fakeValue[i];\n    layoutInput[reals[i]] = i === 2 ? itemSize[0] : modelOption[reals[i]];\n  }\n\n  var rParam = [['x', 'width', 3], ['y', 'height', 0]][realIndex];\n  var rect = getLayoutRect(layoutInput, ecSize, modelOption.padding);\n  return reals[(rect.margin[rParam[2]] || 0) + rect[rParam[0]] + rect[rParam[1]] * 0.5 < ecSize[rParam[1]] * 0.5 ? 0 : 1];\n}\n/**\n * Prepare dataIndex for outside usage, where dataIndex means rawIndex, and\n * dataIndexInside means filtered index.\n */\n// TODO: TYPE more specified payload types.\n\nexport function makeHighDownBatch(batch, visualMapModel) {\n  zrUtil.each(batch || [], function (batchItem) {\n    if (batchItem.dataIndex != null) {\n      batchItem.dataIndexInside = batchItem.dataIndex;\n      batchItem.dataIndex = null;\n    }\n\n    batchItem.highlightKey = 'visualMap' + (visualMapModel ? visualMapModel.componentIndex : '');\n  });\n  return batch;\n}"],"names":["mapVisual","VisualMapping","eachVisual","isArray","zrUtil","each","asc","numberUtil","linearMap","VisualMapModel","_super","_this","apply","this","arguments","type","stateList","replacableOptionKeys","layoutMode","ignoreSize","dataBound","Infinity","targetVisuals","controllerVisuals","__extends","prototype","init","option","parentModel","ecModel","mergeDefaultAndTheme","optionUpdated","newOption","isInit","thisOption","visualSolution","textStyleModel","getModel","resetItemSize","completeVisualOption","resetVisual","supplementVisualOption","controller","target","getItemSymbol","getTargetSeriesIndices","optionSeriesIndex","seriesIndex","seriesIndices","eachSeries","seriesModel","index","push","modelUtil","eachTargetSeries","callback","context","getSeriesByIndex","call","isTargetSeries","is","model","formatValueText","value","isCategory","edgeSymbols","isMinMax","precision","formatter","slice","textValue","toFixed","replace","val","Math","min","resetExtent","extent","max","_dataExtent","getDataDimensionIndex","data","optDim","dimension","getDimensionIndex","dimNames","dimensions","i","length","dimName","dimInfo","getDimensionInfo","isCalculationCoord","storeDimIndex","getExtent","base","inRange","outOfRange","completeSingle","color","reverse","get","stateExist","stateAbsent","optExist","optAbsent","visualData","visualType","defa","visualDefault","hasOwnProperty","opacity","symbolExists","symbol","symbolSizeExists","symbolSize","inactiveColor","defaultSymbol","state","itemSize","visuals","max_1","parseFloat","categories","setSelected","selected","getSelected","getValueState","getVisualMeta","getColorVisual","dependencies","defaultOption","show","z","left","right","top","bottom","itemWidth","itemHeight","inverse","orient","backgroundColor","borderColor","contentColor","borderWidth","padding","textGap","textStyle","ComponentModel","VisualMapView","autoPositionValues","api","render","visualMapModel","payload","doRender","group","removeAll","renderBackground","formatUtil","rect","getBoundingRect","add","Rect","z2","silent","shape","x","y","width","height","style","fill","stroke","lineWidth","getControllerVisual","targetValue","visualCluster","opts","forceState","visualObj","defaultColor","getter","key","setter","mappings","visualTypes","visualMapping","convertOpacityToAlpha","__alphaForOpacity","applyVisual","positionGroup","layout","getBoxLayoutParams","getWidth","getHeight","ComponentView","paramsSet","getItemAlign","modelOption","itemAlign","align","ecSize","realIndex","reals","fakeValue","layoutInput","rParam","getLayoutRect","margin","makeHighDownBatch","batch","batchItem","dataIndex","dataIndexInside","highlightKey","componentIndex"],"sourceRoot":""}
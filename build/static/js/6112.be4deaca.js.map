{"version":3,"file":"static/js/6112.be4deaca.js","mappings":"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","sources":["../node_modules/echarts/lib/coord/geo/fix/diaoyuIsland.js","../node_modules/echarts/lib/coord/geo/fix/nanhai.js","../node_modules/echarts/lib/coord/geo/fix/textCoord.js","../node_modules/echarts/lib/coord/geo/geoCreator.js","../node_modules/echarts/lib/coord/geo/geoSourceManager.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Fix for 钓鱼岛\n// let Region = require('../Region');\n// let zrUtil = require('zrender/lib/core/util');\n// let geoCoord = [126, 25];\nvar points = [[[123.45165252685547, 25.73527164402261], [123.49731445312499, 25.73527164402261], [123.49731445312499, 25.750734064600884], [123.45165252685547, 25.750734064600884], [123.45165252685547, 25.73527164402261]]];\nexport default function fixDiaoyuIsland(mapType, region) {\n  if (mapType === 'china' && region.name === '台湾') {\n    region.geometries.push({\n      type: 'polygon',\n      exterior: points[0]\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Fix for 南海诸岛\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { GeoJSONRegion } from '../Region.js';\nvar geoCoord = [126, 25];\nvar nanhaiName = '南海诸岛';\nvar points = [[[0, 3.5], [7, 11.2], [15, 11.9], [30, 7], [42, 0.7], [52, 0.7], [56, 7.7], [59, 0.7], [64, 0.7], [64, 0], [5, 0], [0, 3.5]], [[13, 16.1], [19, 14.7], [16, 21.7], [11, 23.1], [13, 16.1]], [[12, 32.2], [14, 38.5], [15, 38.5], [13, 32.2], [12, 32.2]], [[16, 47.6], [12, 53.2], [13, 53.2], [18, 47.6], [16, 47.6]], [[6, 64.4], [8, 70], [9, 70], [8, 64.4], [6, 64.4]], [[23, 82.6], [29, 79.8], [30, 79.8], [25, 82.6], [23, 82.6]], [[37, 70.7], [43, 62.3], [44, 62.3], [39, 70.7], [37, 70.7]], [[48, 51.1], [51, 45.5], [53, 45.5], [50, 51.1], [48, 51.1]], [[51, 35], [51, 28.7], [53, 28.7], [53, 35], [51, 35]], [[52, 22.4], [55, 17.5], [56, 17.5], [53, 22.4], [52, 22.4]], [[58, 12.6], [62, 7], [63, 7], [60, 12.6], [58, 12.6]], [[0, 3.5], [0, 93.1], [64, 93.1], [64, 0], [63, 0], [63, 92.4], [1, 92.4], [1, 3.5], [0, 3.5]]];\n\nfor (var i = 0; i < points.length; i++) {\n  for (var k = 0; k < points[i].length; k++) {\n    points[i][k][0] /= 10.5;\n    points[i][k][1] /= -10.5 / 0.75;\n    points[i][k][0] += geoCoord[0];\n    points[i][k][1] += geoCoord[1];\n  }\n}\n\nexport default function fixNanhai(mapType, regions) {\n  if (mapType === 'china') {\n    for (var i = 0; i < regions.length; i++) {\n      // Already exists.\n      if (regions[i].name === nanhaiName) {\n        return;\n      }\n    }\n\n    regions.push(new GeoJSONRegion(nanhaiName, zrUtil.map(points, function (exterior) {\n      return {\n        type: 'polygon',\n        exterior: exterior\n      };\n    }), geoCoord));\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar coordsOffsetMap = {\n  '南海诸岛': [32, 80],\n  // 全国\n  '广东': [0, -10],\n  '香港': [10, 5],\n  '澳门': [-10, 10],\n  //'北京': [-10, 0],\n  '天津': [5, 5]\n};\nexport default function fixTextCoords(mapType, region) {\n  if (mapType === 'china') {\n    var coordFix = coordsOffsetMap[region.name];\n\n    if (coordFix) {\n      var cp = region.getCenter();\n      cp[0] += coordFix[0] / 10.5;\n      cp[1] += -coordFix[1] / (10.5 / 0.75);\n      region.setCenter(cp);\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Geo, { geo2DDimensions } from './Geo.js';\nimport * as layout from '../../util/layout.js';\nimport * as numberUtil from '../../util/number.js';\nimport geoSourceManager from './geoSourceManager.js';\nimport * as vector from 'zrender/lib/core/vector.js';\n/**\n * Resize method bound to the geo\n */\n\nfunction resizeGeo(geoModel, api) {\n  var boundingCoords = geoModel.get('boundingCoords');\n\n  if (boundingCoords != null) {\n    var leftTop_1 = boundingCoords[0];\n    var rightBottom_1 = boundingCoords[1];\n\n    if (!(isFinite(leftTop_1[0]) && isFinite(leftTop_1[1]) && isFinite(rightBottom_1[0]) && isFinite(rightBottom_1[1]))) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('Invalid boundingCoords');\n      }\n    } else {\n      // Sample around the lng/lat rect and use projection to calculate actual bounding rect.\n      var projection_1 = this.projection;\n\n      if (projection_1) {\n        var xMin = leftTop_1[0];\n        var yMin = leftTop_1[1];\n        var xMax = rightBottom_1[0];\n        var yMax = rightBottom_1[1];\n        leftTop_1 = [Infinity, Infinity];\n        rightBottom_1 = [-Infinity, -Infinity]; // TODO better way?\n\n        var sampleLine = function (x0, y0, x1, y1) {\n          var dx = x1 - x0;\n          var dy = y1 - y0;\n\n          for (var i = 0; i <= 100; i++) {\n            var p = i / 100;\n            var pt = projection_1.project([x0 + dx * p, y0 + dy * p]);\n            vector.min(leftTop_1, leftTop_1, pt);\n            vector.max(rightBottom_1, rightBottom_1, pt);\n          }\n        }; // Top\n\n\n        sampleLine(xMin, yMin, xMax, yMin); // Right\n\n        sampleLine(xMax, yMin, xMax, yMax); // Bottom\n\n        sampleLine(xMax, yMax, xMin, yMax); // Left\n\n        sampleLine(xMin, yMax, xMax, yMin);\n      }\n\n      this.setBoundingRect(leftTop_1[0], leftTop_1[1], rightBottom_1[0] - leftTop_1[0], rightBottom_1[1] - leftTop_1[1]);\n    }\n  }\n\n  var rect = this.getBoundingRect();\n  var centerOption = geoModel.get('layoutCenter');\n  var sizeOption = geoModel.get('layoutSize');\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  var aspect = rect.width / rect.height * this.aspectScale;\n  var useCenterAndSize = false;\n  var center;\n  var size;\n\n  if (centerOption && sizeOption) {\n    center = [numberUtil.parsePercent(centerOption[0], viewWidth), numberUtil.parsePercent(centerOption[1], viewHeight)];\n    size = numberUtil.parsePercent(sizeOption, Math.min(viewWidth, viewHeight));\n\n    if (!isNaN(center[0]) && !isNaN(center[1]) && !isNaN(size)) {\n      useCenterAndSize = true;\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.');\n      }\n    }\n  }\n\n  var viewRect;\n\n  if (useCenterAndSize) {\n    viewRect = {};\n\n    if (aspect > 1) {\n      // Width is same with size\n      viewRect.width = size;\n      viewRect.height = size / aspect;\n    } else {\n      viewRect.height = size;\n      viewRect.width = size * aspect;\n    }\n\n    viewRect.y = center[1] - viewRect.height / 2;\n    viewRect.x = center[0] - viewRect.width / 2;\n  } else {\n    // Use left/top/width/height\n    var boxLayoutOption = geoModel.getBoxLayoutParams();\n    boxLayoutOption.aspect = aspect;\n    viewRect = layout.getLayoutRect(boxLayoutOption, {\n      width: viewWidth,\n      height: viewHeight\n    });\n  }\n\n  this.setViewRect(viewRect.x, viewRect.y, viewRect.width, viewRect.height);\n  this.setCenter(geoModel.get('center'), api);\n  this.setZoom(geoModel.get('zoom'));\n} // Back compat for ECharts2, where the coord map is set on map series:\n// {type: 'map', geoCoord: {'cityA': [116.46,39.92], 'cityA': [119.12,24.61]}},\n\n\nfunction setGeoCoords(geo, model) {\n  zrUtil.each(model.get('geoCoord'), function (geoCoord, name) {\n    geo.addGeoCoord(name, geoCoord);\n  });\n}\n\nvar GeoCreator =\n/** @class */\nfunction () {\n  function GeoCreator() {\n    // For deciding which dimensions to use when creating list data\n    this.dimensions = geo2DDimensions;\n  }\n\n  GeoCreator.prototype.create = function (ecModel, api) {\n    var geoList = [];\n\n    function getCommonGeoProperties(model) {\n      return {\n        nameProperty: model.get('nameProperty'),\n        aspectScale: model.get('aspectScale'),\n        projection: model.get('projection')\n      };\n    } // FIXME Create each time may be slow\n\n\n    ecModel.eachComponent('geo', function (geoModel, idx) {\n      var mapName = geoModel.get('map');\n      var geo = new Geo(mapName + idx, mapName, zrUtil.extend({\n        nameMap: geoModel.get('nameMap')\n      }, getCommonGeoProperties(geoModel)));\n      geo.zoomLimit = geoModel.get('scaleLimit');\n      geoList.push(geo); // setGeoCoords(geo, geoModel);\n\n      geoModel.coordinateSystem = geo;\n      geo.model = geoModel; // Inject resize method\n\n      geo.resize = resizeGeo;\n      geo.resize(geoModel, api);\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      var coordSys = seriesModel.get('coordinateSystem');\n\n      if (coordSys === 'geo') {\n        var geoIndex = seriesModel.get('geoIndex') || 0;\n        seriesModel.coordinateSystem = geoList[geoIndex];\n      }\n    }); // If has map series\n\n    var mapModelGroupBySeries = {};\n    ecModel.eachSeriesByType('map', function (seriesModel) {\n      if (!seriesModel.getHostGeoModel()) {\n        var mapType = seriesModel.getMapType();\n        mapModelGroupBySeries[mapType] = mapModelGroupBySeries[mapType] || [];\n        mapModelGroupBySeries[mapType].push(seriesModel);\n      }\n    });\n    zrUtil.each(mapModelGroupBySeries, function (mapSeries, mapType) {\n      var nameMapList = zrUtil.map(mapSeries, function (singleMapSeries) {\n        return singleMapSeries.get('nameMap');\n      });\n      var geo = new Geo(mapType, mapType, zrUtil.extend({\n        nameMap: zrUtil.mergeAll(nameMapList)\n      }, getCommonGeoProperties(mapSeries[0])));\n      geo.zoomLimit = zrUtil.retrieve.apply(null, zrUtil.map(mapSeries, function (singleMapSeries) {\n        return singleMapSeries.get('scaleLimit');\n      }));\n      geoList.push(geo); // Inject resize method\n\n      geo.resize = resizeGeo;\n      geo.resize(mapSeries[0], api);\n      zrUtil.each(mapSeries, function (singleMapSeries) {\n        singleMapSeries.coordinateSystem = geo;\n        setGeoCoords(geo, singleMapSeries);\n      });\n    });\n    return geoList;\n  };\n  /**\n   * Fill given regions array\n   */\n\n\n  GeoCreator.prototype.getFilledRegions = function (originRegionArr, mapName, nameMap, nameProperty) {\n    // Not use the original\n    var regionsArr = (originRegionArr || []).slice();\n    var dataNameMap = zrUtil.createHashMap();\n\n    for (var i = 0; i < regionsArr.length; i++) {\n      dataNameMap.set(regionsArr[i].name, regionsArr[i]);\n    }\n\n    var source = geoSourceManager.load(mapName, nameMap, nameProperty);\n    zrUtil.each(source.regions, function (region) {\n      var name = region.name;\n      !dataNameMap.get(name) && regionsArr.push({\n        name: name\n      });\n    });\n    return regionsArr;\n  };\n\n  return GeoCreator;\n}();\n\nvar geoCreator = new GeoCreator();\nexport default geoCreator;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap } from 'zrender/lib/core/util.js';\nimport { GeoSVGResource } from './GeoSVGResource.js';\nimport { GeoJSONResource } from './GeoJSONResource.js';\nvar storage = createHashMap();\nexport default {\n  /**\n   * Compatible with previous `echarts.registerMap`.\n   *\n   * @usage\n   * ```js\n   *\n   * echarts.registerMap('USA', geoJson, specialAreas);\n   *\n   * echarts.registerMap('USA', {\n   *     geoJson: geoJson,\n   *     specialAreas: {...}\n   * });\n   * echarts.registerMap('USA', {\n   *     geoJSON: geoJson,\n   *     specialAreas: {...}\n   * });\n   *\n   * echarts.registerMap('airport', {\n   *     svg: svg\n   * }\n   * ```\n   *\n   * Note:\n   * Do not support that register multiple geoJSON or SVG\n   * one map name. Because different geoJSON and SVG have\n   * different unit. It's not easy to make sure how those\n   * units are mapping/normalize.\n   * If intending to use multiple geoJSON or SVG, we can\n   * use multiple geo coordinate system.\n   */\n  registerMap: function (mapName, rawDef, rawSpecialAreas) {\n    if (rawDef.svg) {\n      var resource = new GeoSVGResource(mapName, rawDef.svg);\n      storage.set(mapName, resource);\n    } else {\n      // Recommend:\n      //     echarts.registerMap('eu', { geoJSON: xxx, specialAreas: xxx });\n      // Backward compatibility:\n      //     echarts.registerMap('eu', geoJSON, specialAreas);\n      //     echarts.registerMap('eu', { geoJson: xxx, specialAreas: xxx });\n      var geoJSON = rawDef.geoJson || rawDef.geoJSON;\n\n      if (geoJSON && !rawDef.features) {\n        rawSpecialAreas = rawDef.specialAreas;\n      } else {\n        geoJSON = rawDef;\n      }\n\n      var resource = new GeoJSONResource(mapName, geoJSON, rawSpecialAreas);\n      storage.set(mapName, resource);\n    }\n  },\n  getGeoResource: function (mapName) {\n    return storage.get(mapName);\n  },\n\n  /**\n   * Only for exporting to users.\n   * **MUST NOT** used internally.\n   */\n  getMapForUser: function (mapName) {\n    var resource = storage.get(mapName); // Do not support return SVG until some real requirement come.\n\n    return resource && resource.type === 'geoJSON' && resource.getMapForUser();\n  },\n  load: function (mapName, nameMap, nameProperty) {\n    var resource = storage.get(mapName);\n\n    if (!resource) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('Map ' + mapName + ' not exists. The GeoJSON of the map must be provided.');\n      }\n\n      return;\n    }\n\n    return resource.load(nameMap, nameProperty);\n  }\n};"],"names":["points","fixDiaoyuIsland","mapType","region","name","geometries","push","type","exterior","geoCoord","nanhaiName","i","length","k","fixNanhai","regions","GeoJSONRegion","zrUtil","coordsOffsetMap","fixTextCoords","coordFix","cp","getCenter","setCenter","resizeGeo","geoModel","api","boundingCoords","get","leftTop_1","rightBottom_1","isFinite","projection_1","this","projection","xMin","yMin","xMax","yMax","Infinity","sampleLine","x0","y0","x1","y1","dx","dy","p","pt","project","vector","setBoundingRect","process","center","size","viewRect","rect","getBoundingRect","centerOption","sizeOption","viewWidth","getWidth","viewHeight","getHeight","aspect","width","height","aspectScale","useCenterAndSize","numberUtil","Math","min","isNaN","y","x","boxLayoutOption","getBoxLayoutParams","layout","setViewRect","setZoom","geoCreator","GeoCreator","dimensions","geo2DDimensions","prototype","create","ecModel","geoList","getCommonGeoProperties","model","nameProperty","eachComponent","idx","mapName","geo","Geo","nameMap","zoomLimit","coordinateSystem","resize","eachSeries","seriesModel","geoIndex","mapModelGroupBySeries","eachSeriesByType","getHostGeoModel","getMapType","mapSeries","nameMapList","singleMapSeries","addGeoCoord","setGeoCoords","getFilledRegions","originRegionArr","regionsArr","slice","dataNameMap","set","source","geoSourceManager","storage","createHashMap","registerMap","rawDef","rawSpecialAreas","svg","resource","GeoSVGResource","geoJSON","geoJson","features","specialAreas","GeoJSONResource","getGeoResource","getMapForUser","load"],"sourceRoot":""}
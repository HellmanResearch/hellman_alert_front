{"version":3,"file":"static/js/654.53c5df2a.js","mappings":"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","sources":["../node_modules/echarts/lib/model/Series.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport * as modelUtil from '../util/model.js';\nimport ComponentModel from './Component.js';\nimport { PaletteMixin } from './mixin/palette.js';\nimport { DataFormatMixin } from '../model/mixin/dataFormat.js';\nimport { getLayoutParams, mergeLayoutParam, fetchLayoutMode } from '../util/layout.js';\nimport { createTask } from '../core/task.js';\nimport { mountExtend } from '../util/clazz.js';\nimport { SourceManager } from '../data/helper/sourceManager.js';\nimport { defaultSeriesFormatTooltip } from '../component/tooltip/seriesFormatTooltip.js';\nvar inner = modelUtil.makeInner();\n\nfunction getSelectionKey(data, dataIndex) {\n  return data.getName(dataIndex) || data.getId(dataIndex);\n}\n\nexport var SERIES_UNIVERSAL_TRANSITION_PROP = '__universalTransitionEnabled';\n\nvar SeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(SeriesModel, _super);\n\n  function SeriesModel() {\n    // [Caution]: Becuase this class or desecendants can be used as `XXX.extend(subProto)`,\n    // the class members must not be initialized in constructor or declaration place.\n    // Otherwise there is bad case:\n    //   class A {xxx = 1;}\n    //   enableClassExtend(A);\n    //   class B extends A {}\n    //   var C = B.extend({xxx: 5});\n    //   var c = new C();\n    //   console.log(c.xxx); // expect 5 but always 1.\n    var _this = _super !== null && _super.apply(this, arguments) || this; // ---------------------------------------\n    // Props about data selection\n    // ---------------------------------------\n\n\n    _this._selectedDataIndicesMap = {};\n    return _this;\n  }\n\n  SeriesModel.prototype.init = function (option, parentModel, ecModel) {\n    this.seriesIndex = this.componentIndex;\n    this.dataTask = createTask({\n      count: dataTaskCount,\n      reset: dataTaskReset\n    });\n    this.dataTask.context = {\n      model: this\n    };\n    this.mergeDefaultAndTheme(option, ecModel);\n    var sourceManager = inner(this).sourceManager = new SourceManager(this);\n    sourceManager.prepareSource();\n    var data = this.getInitialData(option, ecModel);\n    wrapData(data, this);\n    this.dataTask.context.data = data;\n\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.assert(data, 'getInitialData returned invalid data.');\n    }\n\n    inner(this).dataBeforeProcessed = data; // If we reverse the order (make data firstly, and then make\n    // dataBeforeProcessed by cloneShallow), cloneShallow will\n    // cause data.graph.data !== data when using\n    // module:echarts/data/Graph or module:echarts/data/Tree.\n    // See module:echarts/data/helper/linkSeriesData\n    // Theoretically, it is unreasonable to call `seriesModel.getData()` in the model\n    // init or merge stage, because the data can be restored. So we do not `restoreData`\n    // and `setData` here, which forbids calling `seriesModel.getData()` in this stage.\n    // Call `seriesModel.getRawData()` instead.\n    // this.restoreData();\n\n    autoSeriesName(this);\n\n    this._initSelectedMapFromData(data);\n  };\n  /**\n   * Util for merge default and theme to option\n   */\n\n\n  SeriesModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n    var layoutMode = fetchLayoutMode(this);\n    var inputPositionParams = layoutMode ? getLayoutParams(option) : {}; // Backward compat: using subType on theme.\n    // But if name duplicate between series subType\n    // (for example: parallel) add component mainType,\n    // add suffix 'Series'.\n\n    var themeSubType = this.subType;\n\n    if (ComponentModel.hasClass(themeSubType)) {\n      themeSubType += 'Series';\n    }\n\n    zrUtil.merge(option, ecModel.getTheme().get(this.subType));\n    zrUtil.merge(option, this.getDefaultOption()); // Default label emphasis `show`\n\n    modelUtil.defaultEmphasis(option, 'label', ['show']);\n    this.fillDataTextStyle(option.data);\n\n    if (layoutMode) {\n      mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  };\n\n  SeriesModel.prototype.mergeOption = function (newSeriesOption, ecModel) {\n    // this.settingTask.dirty();\n    newSeriesOption = zrUtil.merge(this.option, newSeriesOption, true);\n    this.fillDataTextStyle(newSeriesOption.data);\n    var layoutMode = fetchLayoutMode(this);\n\n    if (layoutMode) {\n      mergeLayoutParam(this.option, newSeriesOption, layoutMode);\n    }\n\n    var sourceManager = inner(this).sourceManager;\n    sourceManager.dirty();\n    sourceManager.prepareSource();\n    var data = this.getInitialData(newSeriesOption, ecModel);\n    wrapData(data, this);\n    this.dataTask.dirty();\n    this.dataTask.context.data = data;\n    inner(this).dataBeforeProcessed = data;\n    autoSeriesName(this);\n\n    this._initSelectedMapFromData(data);\n  };\n\n  SeriesModel.prototype.fillDataTextStyle = function (data) {\n    // Default data label emphasis `show`\n    // FIXME Tree structure data ?\n    // FIXME Performance ?\n    if (data && !zrUtil.isTypedArray(data)) {\n      var props = ['show'];\n\n      for (var i = 0; i < data.length; i++) {\n        if (data[i] && data[i].label) {\n          modelUtil.defaultEmphasis(data[i], 'label', props);\n        }\n      }\n    }\n  };\n  /**\n   * Init a data structure from data related option in series\n   * Must be overriden.\n   */\n\n\n  SeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return;\n  };\n  /**\n   * Append data to list\n   */\n\n\n  SeriesModel.prototype.appendData = function (params) {\n    // FIXME ???\n    // (1) If data from dataset, forbidden append.\n    // (2) support append data of dataset.\n    var data = this.getRawData();\n    data.appendData(params.data);\n  };\n  /**\n   * Consider some method like `filter`, `map` need make new data,\n   * We should make sure that `seriesModel.getData()` get correct\n   * data in the stream procedure. So we fetch data from upstream\n   * each time `task.perform` called.\n   */\n\n\n  SeriesModel.prototype.getData = function (dataType) {\n    var task = getCurrentTask(this);\n\n    if (task) {\n      var data = task.context.data;\n      return dataType == null ? data : data.getLinkedData(dataType);\n    } else {\n      // When series is not alive (that may happen when click toolbox\n      // restore or setOption with not merge mode), series data may\n      // be still need to judge animation or something when graphic\n      // elements want to know whether fade out.\n      return inner(this).data;\n    }\n  };\n\n  SeriesModel.prototype.getAllData = function () {\n    var mainData = this.getData();\n    return mainData && mainData.getLinkedDataAll ? mainData.getLinkedDataAll() : [{\n      data: mainData\n    }];\n  };\n\n  SeriesModel.prototype.setData = function (data) {\n    var task = getCurrentTask(this);\n\n    if (task) {\n      var context = task.context; // Consider case: filter, data sample.\n      // FIXME:TS never used, so comment it\n      // if (context.data !== data && task.modifyOutputEnd) {\n      //     task.setOutputEnd(data.count());\n      // }\n\n      context.outputData = data; // Caution: setData should update context.data,\n      // Because getData may be called multiply in a\n      // single stage and expect to get the data just\n      // set. (For example, AxisProxy, x y both call\n      // getData and setDate sequentially).\n      // So the context.data should be fetched from\n      // upstream each time when a stage starts to be\n      // performed.\n\n      if (task !== this.dataTask) {\n        context.data = data;\n      }\n    }\n\n    inner(this).data = data;\n  };\n\n  SeriesModel.prototype.getEncode = function () {\n    var encode = this.get('encode', true);\n\n    if (encode) {\n      return zrUtil.createHashMap(encode);\n    }\n  };\n\n  SeriesModel.prototype.getSourceManager = function () {\n    return inner(this).sourceManager;\n  };\n\n  SeriesModel.prototype.getSource = function () {\n    return this.getSourceManager().getSource();\n  };\n  /**\n   * Get data before processed\n   */\n\n\n  SeriesModel.prototype.getRawData = function () {\n    return inner(this).dataBeforeProcessed;\n  };\n\n  SeriesModel.prototype.getColorBy = function () {\n    var colorBy = this.get('colorBy');\n    return colorBy || 'series';\n  };\n\n  SeriesModel.prototype.isColorBySeries = function () {\n    return this.getColorBy() === 'series';\n  };\n  /**\n   * Get base axis if has coordinate system and has axis.\n   * By default use coordSys.getBaseAxis();\n   * Can be overrided for some chart.\n   * @return {type} description\n   */\n\n\n  SeriesModel.prototype.getBaseAxis = function () {\n    var coordSys = this.coordinateSystem; // @ts-ignore\n\n    return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();\n  };\n  /**\n   * Default tooltip formatter\n   *\n   * @param dataIndex\n   * @param multipleSeries\n   * @param dataType\n   * @param renderMode valid values: 'html'(by default) and 'richText'.\n   *        'html' is used for rendering tooltip in extra DOM form, and the result\n   *        string is used as DOM HTML content.\n   *        'richText' is used for rendering tooltip in rich text form, for those where\n   *        DOM operation is not supported.\n   * @return formatted tooltip with `html` and `markers`\n   *        Notice: The override method can also return string\n   */\n\n\n  SeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    return defaultSeriesFormatTooltip({\n      series: this,\n      dataIndex: dataIndex,\n      multipleSeries: multipleSeries\n    });\n  };\n\n  SeriesModel.prototype.isAnimationEnabled = function () {\n    var ecModel = this.ecModel; // Disable animation if using echarts in node but not give ssr flag.\n    // In ssr mode, renderToString will generate svg with css animation.\n\n    if (env.node && !(ecModel && ecModel.ssr)) {\n      return false;\n    }\n\n    var animationEnabled = this.getShallow('animation');\n\n    if (animationEnabled) {\n      if (this.getData().count() > this.getShallow('animationThreshold')) {\n        animationEnabled = false;\n      }\n    }\n\n    return !!animationEnabled;\n  };\n\n  SeriesModel.prototype.restoreData = function () {\n    this.dataTask.dirty();\n  };\n\n  SeriesModel.prototype.getColorFromPalette = function (name, scope, requestColorNum) {\n    var ecModel = this.ecModel; // PENDING\n\n    var color = PaletteMixin.prototype.getColorFromPalette.call(this, name, scope, requestColorNum);\n\n    if (!color) {\n      color = ecModel.getColorFromPalette(name, scope, requestColorNum);\n    }\n\n    return color;\n  };\n  /**\n   * Use `data.mapDimensionsAll(coordDim)` instead.\n   * @deprecated\n   */\n\n\n  SeriesModel.prototype.coordDimToDataDim = function (coordDim) {\n    return this.getRawData().mapDimensionsAll(coordDim);\n  };\n  /**\n   * Get progressive rendering count each step\n   */\n\n\n  SeriesModel.prototype.getProgressive = function () {\n    return this.get('progressive');\n  };\n  /**\n   * Get progressive rendering count each step\n   */\n\n\n  SeriesModel.prototype.getProgressiveThreshold = function () {\n    return this.get('progressiveThreshold');\n  }; // PENGING If selectedMode is null ?\n\n\n  SeriesModel.prototype.select = function (innerDataIndices, dataType) {\n    this._innerSelect(this.getData(dataType), innerDataIndices);\n  };\n\n  SeriesModel.prototype.unselect = function (innerDataIndices, dataType) {\n    var selectedMap = this.option.selectedMap;\n\n    if (!selectedMap) {\n      return;\n    }\n\n    var selectedMode = this.option.selectedMode;\n    var data = this.getData(dataType);\n\n    if (selectedMode === 'series' || selectedMap === 'all') {\n      this.option.selectedMap = {};\n      this._selectedDataIndicesMap = {};\n      return;\n    }\n\n    for (var i = 0; i < innerDataIndices.length; i++) {\n      var dataIndex = innerDataIndices[i];\n      var nameOrId = getSelectionKey(data, dataIndex);\n      selectedMap[nameOrId] = false;\n      this._selectedDataIndicesMap[nameOrId] = -1;\n    }\n  };\n\n  SeriesModel.prototype.toggleSelect = function (innerDataIndices, dataType) {\n    var tmpArr = [];\n\n    for (var i = 0; i < innerDataIndices.length; i++) {\n      tmpArr[0] = innerDataIndices[i];\n      this.isSelected(innerDataIndices[i], dataType) ? this.unselect(tmpArr, dataType) : this.select(tmpArr, dataType);\n    }\n  };\n\n  SeriesModel.prototype.getSelectedDataIndices = function () {\n    if (this.option.selectedMap === 'all') {\n      return [].slice.call(this.getData().getIndices());\n    }\n\n    var selectedDataIndicesMap = this._selectedDataIndicesMap;\n    var nameOrIds = zrUtil.keys(selectedDataIndicesMap);\n    var dataIndices = [];\n\n    for (var i = 0; i < nameOrIds.length; i++) {\n      var dataIndex = selectedDataIndicesMap[nameOrIds[i]];\n\n      if (dataIndex >= 0) {\n        dataIndices.push(dataIndex);\n      }\n    }\n\n    return dataIndices;\n  };\n\n  SeriesModel.prototype.isSelected = function (dataIndex, dataType) {\n    var selectedMap = this.option.selectedMap;\n\n    if (!selectedMap) {\n      return false;\n    }\n\n    var data = this.getData(dataType);\n    return (selectedMap === 'all' || selectedMap[getSelectionKey(data, dataIndex)]) && !data.getItemModel(dataIndex).get(['select', 'disabled']);\n  };\n\n  SeriesModel.prototype.isUniversalTransitionEnabled = function () {\n    if (this[SERIES_UNIVERSAL_TRANSITION_PROP]) {\n      return true;\n    }\n\n    var universalTransitionOpt = this.option.universalTransition; // Quick reject\n\n    if (!universalTransitionOpt) {\n      return false;\n    }\n\n    if (universalTransitionOpt === true) {\n      return true;\n    } // Can be simply 'universalTransition: true'\n\n\n    return universalTransitionOpt && universalTransitionOpt.enabled;\n  };\n\n  SeriesModel.prototype._innerSelect = function (data, innerDataIndices) {\n    var _a, _b;\n\n    var option = this.option;\n    var selectedMode = option.selectedMode;\n    var len = innerDataIndices.length;\n\n    if (!selectedMode || !len) {\n      return;\n    }\n\n    if (selectedMode === 'series') {\n      option.selectedMap = 'all';\n    } else if (selectedMode === 'multiple') {\n      if (!zrUtil.isObject(option.selectedMap)) {\n        option.selectedMap = {};\n      }\n\n      var selectedMap = option.selectedMap;\n\n      for (var i = 0; i < len; i++) {\n        var dataIndex = innerDataIndices[i]; // TODO diffrent types of data share same object.\n\n        var nameOrId = getSelectionKey(data, dataIndex);\n        selectedMap[nameOrId] = true;\n        this._selectedDataIndicesMap[nameOrId] = data.getRawIndex(dataIndex);\n      }\n    } else if (selectedMode === 'single' || selectedMode === true) {\n      var lastDataIndex = innerDataIndices[len - 1];\n      var nameOrId = getSelectionKey(data, lastDataIndex);\n      option.selectedMap = (_a = {}, _a[nameOrId] = true, _a);\n      this._selectedDataIndicesMap = (_b = {}, _b[nameOrId] = data.getRawIndex(lastDataIndex), _b);\n    }\n  };\n\n  SeriesModel.prototype._initSelectedMapFromData = function (data) {\n    // Ignore select info in data if selectedMap exists.\n    // NOTE It's only for legacy usage. edge data is not supported.\n    if (this.option.selectedMap) {\n      return;\n    }\n\n    var dataIndices = [];\n\n    if (data.hasItemOption) {\n      data.each(function (idx) {\n        var rawItem = data.getRawDataItem(idx);\n\n        if (rawItem && rawItem.selected) {\n          dataIndices.push(idx);\n        }\n      });\n    }\n\n    if (dataIndices.length > 0) {\n      this._innerSelect(data, dataIndices);\n    }\n  }; // /**\n  //  * @see {module:echarts/stream/Scheduler}\n  //  */\n  // abstract pipeTask: null\n\n\n  SeriesModel.registerClass = function (clz) {\n    return ComponentModel.registerClass(clz);\n  };\n\n  SeriesModel.protoInitialize = function () {\n    var proto = SeriesModel.prototype;\n    proto.type = 'series.__base__';\n    proto.seriesIndex = 0;\n    proto.ignoreStyleOnData = false;\n    proto.hasSymbolVisual = false;\n    proto.defaultSymbol = 'circle'; // Make sure the values can be accessed!\n\n    proto.visualStyleAccessPath = 'itemStyle';\n    proto.visualDrawType = 'fill';\n  }();\n\n  return SeriesModel;\n}(ComponentModel);\n\nzrUtil.mixin(SeriesModel, DataFormatMixin);\nzrUtil.mixin(SeriesModel, PaletteMixin);\nmountExtend(SeriesModel, ComponentModel);\n/**\n * MUST be called after `prepareSource` called\n * Here we need to make auto series, especially for auto legend. But we\n * do not modify series.name in option to avoid side effects.\n */\n\nfunction autoSeriesName(seriesModel) {\n  // User specified name has higher priority, otherwise it may cause\n  // series can not be queried unexpectedly.\n  var name = seriesModel.name;\n\n  if (!modelUtil.isNameSpecified(seriesModel)) {\n    seriesModel.name = getSeriesAutoName(seriesModel) || name;\n  }\n}\n\nfunction getSeriesAutoName(seriesModel) {\n  var data = seriesModel.getRawData();\n  var dataDims = data.mapDimensionsAll('seriesName');\n  var nameArr = [];\n  zrUtil.each(dataDims, function (dataDim) {\n    var dimInfo = data.getDimensionInfo(dataDim);\n    dimInfo.displayName && nameArr.push(dimInfo.displayName);\n  });\n  return nameArr.join(' ');\n}\n\nfunction dataTaskCount(context) {\n  return context.model.getRawData().count();\n}\n\nfunction dataTaskReset(context) {\n  var seriesModel = context.model;\n  seriesModel.setData(seriesModel.getRawData().cloneShallow());\n  return dataTaskProgress;\n}\n\nfunction dataTaskProgress(param, context) {\n  // Avoid repead cloneShallow when data just created in reset.\n  if (context.outputData && param.end > context.outputData.count()) {\n    context.model.getRawData().cloneShallow(context.outputData);\n  }\n} // TODO refactor\n\n\nfunction wrapData(data, seriesModel) {\n  zrUtil.each(zrUtil.concatArray(data.CHANGABLE_METHODS, data.DOWNSAMPLE_METHODS), function (methodName) {\n    data.wrapMethod(methodName, zrUtil.curry(onDataChange, seriesModel));\n  });\n}\n\nfunction onDataChange(seriesModel, newList) {\n  var task = getCurrentTask(seriesModel);\n\n  if (task) {\n    // Consider case: filter, selectRange\n    task.setOutputEnd((newList || this).count());\n  }\n\n  return newList;\n}\n\nfunction getCurrentTask(seriesModel) {\n  var scheduler = (seriesModel.ecModel || {}).scheduler;\n  var pipeline = scheduler && scheduler.getPipeline(seriesModel.uid);\n\n  if (pipeline) {\n    // When pipline finished, the currrentTask keep the last\n    // task (renderTask).\n    var task = pipeline.currentTask;\n\n    if (task) {\n      var agentStubMap = task.agentStubMap;\n\n      if (agentStubMap) {\n        task = agentStubMap.get(seriesModel.uid);\n      }\n    }\n\n    return task;\n  }\n}\n\nexport default SeriesModel;"],"names":["inner","modelUtil","getSelectionKey","data","dataIndex","getName","getId","SERIES_UNIVERSAL_TRANSITION_PROP","SeriesModel","_super","_this","apply","this","arguments","_selectedDataIndicesMap","__extends","prototype","init","option","parentModel","ecModel","seriesIndex","componentIndex","dataTask","createTask","count","dataTaskCount","reset","dataTaskReset","context","model","mergeDefaultAndTheme","sourceManager","SourceManager","prepareSource","getInitialData","wrapData","dataBeforeProcessed","autoSeriesName","_initSelectedMapFromData","layoutMode","fetchLayoutMode","inputPositionParams","getLayoutParams","themeSubType","subType","ComponentModel","zrUtil","getTheme","get","getDefaultOption","fillDataTextStyle","mergeLayoutParam","mergeOption","newSeriesOption","dirty","props","i","length","label","appendData","params","getRawData","getData","dataType","task","getCurrentTask","getLinkedData","getAllData","mainData","getLinkedDataAll","setData","outputData","getEncode","encode","getSourceManager","getSource","getColorBy","isColorBySeries","getBaseAxis","coordSys","coordinateSystem","formatTooltip","multipleSeries","defaultSeriesFormatTooltip","series","isAnimationEnabled","env","ssr","animationEnabled","getShallow","restoreData","getColorFromPalette","name","scope","requestColorNum","color","PaletteMixin","coordDimToDataDim","coordDim","mapDimensionsAll","getProgressive","getProgressiveThreshold","select","innerDataIndices","_innerSelect","unselect","selectedMap","selectedMode","nameOrId","toggleSelect","tmpArr","isSelected","getSelectedDataIndices","slice","call","getIndices","selectedDataIndicesMap","nameOrIds","dataIndices","push","getItemModel","isUniversalTransitionEnabled","universalTransitionOpt","universalTransition","enabled","_a","_b","len","getRawIndex","lastDataIndex","hasItemOption","each","idx","rawItem","getRawDataItem","selected","registerClass","clz","protoInitialize","proto","type","ignoreStyleOnData","hasSymbolVisual","defaultSymbol","visualStyleAccessPath","visualDrawType","seriesModel","dataDims","nameArr","dataDim","dimInfo","getDimensionInfo","displayName","join","getSeriesAutoName","cloneShallow","dataTaskProgress","param","end","CHANGABLE_METHODS","DOWNSAMPLE_METHODS","methodName","wrapMethod","onDataChange","newList","setOutputEnd","scheduler","pipeline","getPipeline","uid","currentTask","agentStubMap","DataFormatMixin","mountExtend"],"sourceRoot":""}
"use strict";(self.webpackChunkssv_front=self.webpackChunkssv_front||[]).push([[2653],{26523:function(n,e,t){t.d(e,{Eo:function(){return u},Jj:function(){return d},Jl:function(){return f},bB:function(){return m},v5:function(){return l}});var i=t(76884),o=t(71169),r=t(93240),s=(0,o.Yf)(),a={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},u=function(){function n(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(n){this._dimOmitted=n,n&&(this._dimNameMap||(this._dimNameMap=d(this.source)))},n.prototype.getSourceDimensionIndex=function(n){return(0,i.pD)(this._dimNameMap.get(n),-1)},n.prototype.getSourceDimension=function(n){var e=this.source.dimensionsDefine;if(e)return e[n]},n.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,e=(0,r.QY)(this.source),t=!f(n),i="",o=[],s=0,u=0;s<n;s++){var m=void 0,l=void 0,d=void 0,c=this.dimensions[u];if(c&&c.storeDimIndex===s)m=e?c.name:null,l=c.type,d=c.ordinalMeta,u++;else{var p=this.getSourceDimension(s);p&&(m=e?p.name:null,l=p.type)}o.push({property:m,type:l,ordinalMeta:d}),!e||null==m||c&&c.isCalculationCoord||(i+=t?m.replace(/\`/g,"`1").replace(/\$/g,"`2"):m),i+="$",i+=a[l]||"f",d&&(i+=d.uid),i+="$"}var h=this.source;return{dimensions:o,hash:[h.seriesLayoutBy,h.startIndex,i].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var n=[],e=0,t=0;e<this._fullDimCount;e++){var i=void 0,o=this.dimensions[t];if(o&&o.storeDimIndex===e)o.isCalculationCoord||(i=o.name),t++;else{var r=this.getSourceDimension(e);r&&(i=r.name)}n.push(i)}return n},n.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function m(n){return n instanceof u}function l(n){for(var e=(0,i.kW)(),t=0;t<(n||[]).length;t++){var o=n[t],r=(0,i.Kn)(o)?o.name:o;null!=r&&null==e.get(r)&&e.set(r,t)}return e}function d(n){var e=s(n);return e.dimNameMap||(e.dimNameMap=l(n.dimensionsDefine))}function f(n){return n>30}},62653:function(n,e,t){t.d(e,{Z:function(){return d}});var i=t(88542),o=t(79383),r=t(76884),s=t(93240),a=t(57647),u=t(71169),m=t(62770),l=t(26523);function d(n,e){(0,s.Ld)(n)||(n=(0,s.nx)(n));var t=(e=e||{}).coordDimensions||[],d=e.dimensionsDefine||n.dimensionsDefine||[],c=(0,r.kW)(),p=[],h=function(n,e,t,i){var o=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,i||0);return(0,r.S6)(e,(function(n){var e;(0,r.Kn)(n)&&(e=n.dimsDef)&&(o=Math.max(o,e.length))})),o}(n,t,d,e.dimensionsCount),D=e.canOmitUnusedDimensions&&(0,l.Jl)(h),v=d===n.dimensionsDefine,y=v?(0,l.Jj)(n):(0,l.v5)(d),g=e.encodeDefine;!g&&e.encodeDefaulter&&(g=e.encodeDefaulter(n,h));for(var C=(0,r.kW)(g),x=new a.hG(h),_=0;_<x.length;_++)x[_]=-1;function O(n){var e=x[n];if(e<0){var t=d[n],i=(0,r.Kn)(t)?t:{name:t},s=new o.Z,a=i.name;null!=a&&null!=y.get(a)&&(s.name=s.displayName=a),null!=i.type&&(s.type=i.type),null!=i.displayName&&(s.displayName=i.displayName);var u=p.length;return x[n]=u,s.storeDimIndex=n,p.push(s),s}return p[e]}if(!D)for(_=0;_<h;_++)O(_);C.each((function(n,e){var t=(0,u.kF)(n).slice();if(1===t.length&&!(0,r.HD)(t[0])&&t[0]<0)C.set(e,!1);else{var i=C.set(e,[]);(0,r.S6)(t,(function(n,t){var o=(0,r.HD)(n)?y.get(n):n;null!=o&&o<h&&(i[t]=o,N(O(o),e,t))}))}}));var M=0;function N(n,e,t){null!=i.f7.get(e)?n.otherDims[e]=t:(n.coordDim=e,n.coordDimIndex=t,c.set(e,!0))}(0,r.S6)(t,(function(n){var e,t,i,o;if((0,r.HD)(n))e=n,o={};else{e=(o=n).name;var s=o.ordinalMeta;o.ordinalMeta=null,(o=(0,r.l7)({},o)).ordinalMeta=s,t=o.dimsDef,i=o.otherDims,o.name=o.coordDim=o.coordDimIndex=o.dimsDef=o.otherDims=null}var a=C.get(e);if(!1!==a){if(!(a=(0,u.kF)(a)).length)for(var m=0;m<(t&&t.length||1);m++){for(;M<h&&null!=O(M).coordDim;)M++;M<h&&a.push(M++)}(0,r.S6)(a,(function(n,s){var a=O(n);if(v&&null!=o.type&&(a.type=o.type),N((0,r.ce)(a,o),e,s),null==a.name&&t){var u=t[s];!(0,r.Kn)(u)&&(u={name:u}),a.name=a.displayName=u.name,a.defaultTooltip=u.defaultTooltip}i&&(0,r.ce)(a.otherDims,i)}))}}));var k=e.generateCoord,S=e.generateCoordCount,I=null!=S;S=k?S||1:0;var w=k||"value";function $(n){null==n.name&&(n.name=n.coordDim)}if(D)(0,r.S6)(p,(function(n){$(n)})),p.sort((function(n,e){return n.storeDimIndex-e.storeDimIndex}));else for(var b=0;b<h;b++){var E=O(b);null==E.coordDim&&(E.coordDim=f(w,c,I),E.coordDimIndex=0,(!k||S<=0)&&(E.isExtraCoord=!0),S--),$(E),null!=E.type||(0,m.u7)(n,b)!==m.Dq.Must&&(!E.isExtraCoord||null==E.otherDims.itemName&&null==E.otherDims.seriesName)||(E.type="ordinal")}return function(n){for(var e=(0,r.kW)(),t=0;t<n.length;t++){var i=n[t],o=i.name,s=e.get(o)||0;s>0&&(i.name=o+(s-1)),s++,e.set(o,s)}}(p),new l.Eo({source:n,dimensions:p,fullDimensionCount:h,dimensionOmitted:D})}function f(n,e,t){var i=e.data;if(t||i.hasOwnProperty(n)){for(var o=0;i.hasOwnProperty(n+o);)o++;n+=o}return e.set(n,!0),n}}}]);
//# sourceMappingURL=2653.51e87b5b.js.map
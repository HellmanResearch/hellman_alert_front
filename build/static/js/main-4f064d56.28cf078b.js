"use strict";(self.webpackChunkssv_front=self.webpackChunkssv_front||[]).push([[5042],{89668:function(e,n,s){s.d(n,{Z:function(){return A}});var t=s(86824),r=s(11087),a=s(44119),c=s(52942),i=s(95048),l=s(57689),o=s(37502),u=s(13272),h=s(4252),d=s(61922),j=s(67060),x=s(64182),m=s(69771),p=s(72791),f=s(80184),Z=function(){var e=(0,i.v9)((function(e){var n;return null==e||null===(n=e.user)||void 0===n?void 0:n.public_key}),i.wU),n=(0,i.I0)(),s=(0,l.UO)(),t=(0,l.TH)();return console.log("=params==3",s,t,t.pathname.includes("confirm")),(0,p.useEffect)((function(){var s=function(s,t){0!==s.length&&s[0]===e||n({type:"user/login",payload:{cancel:!0}})};return window.ethereum?window.ethereum.on("accountsChanged",s):console.log("=不支持钱包"),function(){window.ethereum&&window.ethereum.removeListener("accountsChanged",s)}}),[]),e||t.pathname.includes("confirm")?(0,f.jsx)(p.Suspense,{fallback:(0,f.jsx)("div",{}),children:(0,f.jsxs)(l.Z5,{children:[(0,f.jsx)(l.AW,{path:"/metrics",element:(0,f.jsx)(o.Z,{})}),(0,f.jsx)(l.AW,{path:"/subscribe",element:(0,f.jsx)(h.Z,{})}),(0,f.jsx)(l.AW,{path:"/history/:id",element:(0,f.jsx)(d.Z,{})}),(0,f.jsx)(l.AW,{path:"/confirm/:id/:sign",element:(0,f.jsx)(m.Z,{})}),(0,f.jsx)(l.AW,{path:"/subscribe/add",element:(0,f.jsx)(u.Z,{})}),(0,f.jsx)(l.AW,{path:"/subscribe/:subscribeId",element:(0,f.jsx)(u.Z,{}),children:(0,f.jsx)(l.AW,{path:":sign",element:(0,f.jsx)(u.Z,{})})}),(0,f.jsx)(l.AW,{path:"/alerts",element:(0,f.jsx)(x.Z,{}),children:(0,f.jsx)(l.AW,{path:":id/:sign",element:(0,f.jsx)(x.Z,{})})}),(0,f.jsx)(l.AW,{path:"/*",element:(0,f.jsx)(o.Z,{})})]})}):(0,f.jsx)(j.Z,{})},g=(s(69520),s(7477)),v=s(83958),b=t.Z.Content;function w(){var e=(0,i.I0)();return(0,p.useEffect)((function(){var n;null!==(n=JSON.parse(localStorage.getItem("login")||""))&&void 0!==n&&n.id&&g.Z.get("".concat(v.bB,"users/users/self")).then((function(n){e({type:"user/login",payload:n.data})})).catch((function(n){e({type:"user/login",payload:{cancel:!0}})}))}),[]),(0,f.jsx)(r.VK,{children:(0,f.jsxs)(t.Z,{className:"ssv-page",children:[(0,f.jsx)(a.Z,{}),(0,f.jsx)(b,{children:(0,f.jsx)(Z,{})}),(0,f.jsx)(c.Z,{})]})})}var A=p.memo(w)}}]);
//# sourceMappingURL=main-4f064d56.28cf078b.js.map
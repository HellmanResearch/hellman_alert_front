"use strict";(self.webpackChunkssv_front=self.webpackChunkssv_front||[]).push([[8913],{48913:function(e,t,o){o.d(t,{N:function(){return M}});var r=o(44357),a=o(48609),n=o(11345),i=o(38174),s=o(52037),l=o(8943),p=o(60886),u=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,o,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var a=this.group;if(a.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&r&&"geoRoam"===r.type&&this._mapDraw.resetForLabelLayout(),r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===e.id)(n=this._mapDraw)&&a.add(n.group);else if(e.needsDrawMap){var n=this._mapDraw||new i.Z(o);a.add(n.group),n.draw(e,t,o,this,r),this._mapDraw=n}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,o)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,o){var r=e.originalData,a=this.group;r.each(r.mapDimension("value"),(function(t,o){if(!isNaN(t)){var i=r.getItemLayout(o);if(i&&i.point){var s=i.point,u=i.offset,m=new n.Z({style:{fill:e.getData().getVisual("style").fill},shape:{cx:s[0]+9*u,cy:s[1],r:3},silent:!0,z2:8+(u?0:p.zr+1)});if(!u){var g=e.mainSeries.getData(),h=r.getName(o),c=g.indexOfName(h),d=r.getItemModel(o),f=d.getModel("label"),y=g.getItemGraphicEl(c);(0,l.ni)(m,(0,l.k3)(d),{labelFetcher:{getFormattedLabel:function(t,o){return e.getFormattedLabel(c,o)}},defaultText:h}),m.disableLabelAnimation=!0,f.get("position")||m.setTextConfig({position:"bottom"}),y.onHoverStateChange=function(e){(0,p.Gl)(m,e)}}a.add(m)}}}))},t.type="map",t}(s.Z),m=u,g=o(76884),h=o(84308),c=o(80654),d=o(15483),f=o(62770),y=o(6865),v=o(12438),D=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.needsDrawMap=!1,o.seriesGroup=[],o.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),o=this.coordinateSystem,r=o.getRegion(t);return r&&o.dataToPoint(r.getCenter())}},o}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e){for(var t=(0,h.Z)(this,{coordDimensions:["value"],encodeDefaulter:g.WA(f.Ss,this)}),o=g.kW(),r=[],a=0,n=t.count();a<n;a++){var i=t.getName(a);o.set(i,!0)}var s=d.Z.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return g.S6(s.regions,(function(e){var t=e.name;o.get(t)||r.push(t)})),t.appendValues([],r),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,o){for(var r=this.getData(),a=this.getRawValue(e),n=r.getName(e),i=this.seriesGroup,s=[],l=0;l<i.length;l++){var p=i[l].originalData.indexOfName(n),u=r.mapDimension("value");isNaN(i[l].originalData.get(u,p))||s.push(i[l].name)}return(0,y.TX)("section",{header:s.join(", "),noHeader:!s.length,blocks:[(0,y.TX)("nameValue",{name:n,value:a})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",o=(0,v.th)(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return o.setStyle(e.itemStyle),o.style.stroke="none",t.indexOf("empty")>-1&&(o.style.stroke=o.style.fill,o.style.fill="#fff",o.style.lineWidth=2),o},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(c.Z),w=D,b=o(84322),S=o(85204),_=o(27091),T=o(28745);function M(e){(0,r.D)(T.N),e.registerChartView(m),e.registerSeriesModel(w),e.registerLayout(S.Z),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,b.Z),(0,_.y)("map",e.registerAction)}}}]);
//# sourceMappingURL=8913.050d70b3.js.map
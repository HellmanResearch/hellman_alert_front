"use strict";(self.webpackChunkssv_front=self.webpackChunkssv_front||[]).push([[5042],{89668:function(e,n,s){s.d(n,{Z:function(){return A}});var t=s(86824),r=s(11087),c=s(44119),i=s(52942),a=s(95048),l=s(57689),u=s(37502),o=s(13272),h=s(4252),j=s(61922),x=s(67060),d=s(64182),f=s(69771),p=s(72791),m=s(80184),Z=function(){var e=(0,a.v9)((function(e){var n;return null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.public_key}),a.wU),n=(0,a.I0)();return(0,p.useEffect)((function(){var s=function(s,t){0!==s.length&&s[0]===e||n({type:"user/login",payload:{cancel:!0}})};return window.ethereum?window.ethereum.on("accountsChanged",s):console.log("=\u4e0d\u652f\u6301\u94b1\u5305"),function(){window.ethereum&&window.ethereum.removeListener("accountsChanged",s)}}),[]),e?(0,m.jsx)(p.Suspense,{fallback:(0,m.jsx)("div",{}),children:(0,m.jsxs)(l.Z5,{children:[(0,m.jsx)(l.AW,{path:"/metrics",element:(0,m.jsx)(u.Z,{})}),(0,m.jsx)(l.AW,{path:"/subscribe",element:(0,m.jsx)(h.Z,{})}),(0,m.jsx)(l.AW,{path:"/history/:id",element:(0,m.jsx)(j.Z,{})}),(0,m.jsx)(l.AW,{path:"/confirm/:id/:sign",element:(0,m.jsx)(f.Z,{})}),(0,m.jsx)(l.AW,{path:"/subscribe/add",element:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(l.AW,{path:"/subscribe/:subscribeId",element:(0,m.jsx)(o.Z,{}),children:(0,m.jsx)(l.AW,{path:":sign",element:(0,m.jsx)(o.Z,{})})}),(0,m.jsx)(l.AW,{path:"/alerts",element:(0,m.jsx)(d.Z,{}),children:(0,m.jsx)(l.AW,{path:":id/:sign",element:(0,m.jsx)(d.Z,{})})}),(0,m.jsx)(l.AW,{path:"/*",element:(0,m.jsx)(u.Z,{})})]})}):(0,m.jsx)(x.Z,{})},g=(s(69520),s(7477)),v=s(83958),b=t.Z.Content;function w(){var e=(0,a.I0)();return(0,p.useEffect)((function(){localStorage.getItem("login")&&g.Z.get("".concat(v.bB,"users/users/self")).then((function(n){e({type:"user/login",payload:n.data})})).catch((function(n){e({type:"user/login",payload:{cancel:!0}})}))}),[]),(0,m.jsx)(r.VK,{children:(0,m.jsxs)(t.Z,{className:"ssv-page",children:[(0,m.jsx)(c.Z,{}),(0,m.jsx)(b,{children:(0,m.jsx)(Z,{})}),(0,m.jsx)(i.Z,{})]})})}var A=p.memo(w)}}]);
//# sourceMappingURL=main-4f064d56.107eeb25.js.map
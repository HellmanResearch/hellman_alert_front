{"version":3,"file":"static/js/7901.247324f9.js","mappings":"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","sources":["../node_modules/echarts/lib/animation/customGraphicKeyframeAnimation.js","../node_modules/echarts/lib/animation/customGraphicTransition.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { keys, filter, each, isArray, indexOf } from 'zrender/lib/core/util.js';\nimport { ELEMENT_ANIMATABLE_PROPS } from './customGraphicTransition.js';\nimport { getAnimationConfig } from './basicTransition.js';\nimport { warn } from '../util/log.js';\nimport { makeInner } from '../util/model.js';\nvar getStateToRestore = makeInner();\nvar KEYFRAME_EXCLUDE_KEYS = ['percent', 'easing', 'shape', 'style', 'extra'];\n/**\n * Stop previous keyframe animation and restore the attributes.\n * Avoid new keyframe animation starts with wrong internal state when the percent: 0 is not set.\n */\n\nexport function stopPreviousKeyframeAnimationAndRestore(el) {\n  // Stop previous keyframe animation.\n  el.stopAnimation('keyframe'); // Restore\n\n  el.attr(getStateToRestore(el));\n}\nexport function applyKeyframeAnimation(el, animationOpts, animatableModel) {\n  if (!animatableModel.isAnimationEnabled() || !animationOpts) {\n    return;\n  }\n\n  if (isArray(animationOpts)) {\n    each(animationOpts, function (singleAnimationOpts) {\n      applyKeyframeAnimation(el, singleAnimationOpts, animatableModel);\n    });\n    return;\n  }\n\n  var keyframes = animationOpts.keyframes;\n  var duration = animationOpts.duration;\n\n  if (animatableModel && duration == null) {\n    // Default to use duration of config.\n    // NOTE: animation config from payload will be ignored because they are mainly for transitions.\n    var config = getAnimationConfig('enter', animatableModel, 0);\n    duration = config && config.duration;\n  }\n\n  if (!keyframes || !duration) {\n    return;\n  }\n\n  var stateToRestore = getStateToRestore(el);\n  each(ELEMENT_ANIMATABLE_PROPS, function (targetPropName) {\n    if (targetPropName && !el[targetPropName]) {\n      return;\n    }\n\n    var animator;\n    var endFrameIsSet = false; // Sort keyframes by percent.\n\n    keyframes.sort(function (a, b) {\n      return a.percent - b.percent;\n    });\n    each(keyframes, function (kf) {\n      // Stop current animation.\n      var animators = el.animators;\n      var kfValues = targetPropName ? kf[targetPropName] : kf;\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (kf.percent >= 1) {\n          endFrameIsSet = true;\n        }\n      }\n\n      if (!kfValues) {\n        return;\n      }\n\n      var propKeys = keys(kfValues);\n\n      if (!targetPropName) {\n        // PENDING performance?\n        propKeys = filter(propKeys, function (key) {\n          return indexOf(KEYFRAME_EXCLUDE_KEYS, key) < 0;\n        });\n      }\n\n      if (!propKeys.length) {\n        return;\n      }\n\n      if (!animator) {\n        animator = el.animate(targetPropName, animationOpts.loop, true);\n        animator.scope = 'keyframe';\n      }\n\n      for (var i = 0; i < animators.length; i++) {\n        // Stop all other animation that is not keyframe.\n        if (animators[i] !== animator && animators[i].targetName === animator.targetName) {\n          animators[i].stopTracks(propKeys);\n        }\n      }\n\n      targetPropName && (stateToRestore[targetPropName] = stateToRestore[targetPropName] || {});\n      var savedTarget = targetPropName ? stateToRestore[targetPropName] : stateToRestore;\n      each(propKeys, function (key) {\n        // Save original value.\n        savedTarget[key] = ((targetPropName ? el[targetPropName] : el) || {})[key];\n      });\n      animator.whenWithKeys(duration * kf.percent, kfValues, propKeys, kf.easing);\n    });\n\n    if (!animator) {\n      return;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!endFrameIsSet) {\n        warn('End frame with percent: 1 is missing in the keyframeAnimation.', true);\n      }\n    }\n\n    animator.delay(animationOpts.delay || 0).duration(duration).start(animationOpts.easing);\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner, normalizeToArray } from '../util/model.js';\nimport { assert, bind, each, eqNaN, extend, hasOwn, indexOf, isArrayLike, keys, reduce } from 'zrender/lib/core/util.js';\nimport { cloneValue } from 'zrender/lib/animation/Animator.js';\nimport Displayable from 'zrender/lib/graphic/Displayable.js';\nimport { getAnimationConfig } from './basicTransition.js';\nimport { Path } from '../util/graphic.js';\nimport { warn } from '../util/log.js';\nimport { TRANSFORMABLE_PROPS } from 'zrender/lib/core/Transformable.js';\nvar LEGACY_TRANSFORM_PROPS_MAP = {\n  position: ['x', 'y'],\n  scale: ['scaleX', 'scaleY'],\n  origin: ['originX', 'originY']\n};\nvar LEGACY_TRANSFORM_PROPS = keys(LEGACY_TRANSFORM_PROPS_MAP);\nvar TRANSFORM_PROPS_MAP = reduce(TRANSFORMABLE_PROPS, function (obj, key) {\n  obj[key] = 1;\n  return obj;\n}, {});\nvar transformPropNamesStr = TRANSFORMABLE_PROPS.join(', '); // '' means root\n\nexport var ELEMENT_ANIMATABLE_PROPS = ['', 'style', 'shape', 'extra'];\n;\nvar transitionInnerStore = makeInner();\n;\n\nfunction getElementAnimationConfig(animationType, el, elOption, parentModel, dataIndex) {\n  var animationProp = animationType + \"Animation\";\n  var config = getAnimationConfig(animationType, parentModel, dataIndex) || {};\n  var userDuring = transitionInnerStore(el).userDuring; // Only set when duration is > 0 and it's need to be animated.\n\n  if (config.duration > 0) {\n    // For simplicity, if during not specified, the previous during will not work any more.\n    config.during = userDuring ? bind(duringCall, {\n      el: el,\n      userDuring: userDuring\n    }) : null;\n    config.setToFinal = true;\n    config.scope = animationType;\n  }\n\n  extend(config, elOption[animationProp]);\n  return config;\n}\n\nexport function applyUpdateTransition(el, elOption, animatableModel, opts) {\n  opts = opts || {};\n  var dataIndex = opts.dataIndex,\n      isInit = opts.isInit,\n      clearStyle = opts.clearStyle;\n  var hasAnimation = animatableModel.isAnimationEnabled(); // Save the meta info for further morphing. Like apply on the sub morphing elements.\n\n  var store = transitionInnerStore(el);\n  var styleOpt = elOption.style;\n  store.userDuring = elOption.during;\n  var transFromProps = {};\n  var propsToSet = {};\n  prepareTransformAllPropsFinal(el, elOption, propsToSet);\n  prepareShapeOrExtraAllPropsFinal('shape', elOption, propsToSet);\n  prepareShapeOrExtraAllPropsFinal('extra', elOption, propsToSet);\n\n  if (!isInit && hasAnimation) {\n    prepareTransformTransitionFrom(el, elOption, transFromProps);\n    prepareShapeOrExtraTransitionFrom('shape', el, elOption, transFromProps);\n    prepareShapeOrExtraTransitionFrom('extra', el, elOption, transFromProps);\n    prepareStyleTransitionFrom(el, elOption, styleOpt, transFromProps);\n  }\n\n  propsToSet.style = styleOpt;\n  applyPropsDirectly(el, propsToSet, clearStyle);\n  applyMiscProps(el, elOption);\n\n  if (hasAnimation) {\n    if (isInit) {\n      var enterFromProps_1 = {};\n      each(ELEMENT_ANIMATABLE_PROPS, function (propName) {\n        var prop = propName ? elOption[propName] : elOption;\n\n        if (prop && prop.enterFrom) {\n          if (propName) {\n            enterFromProps_1[propName] = enterFromProps_1[propName] || {};\n          }\n\n          extend(propName ? enterFromProps_1[propName] : enterFromProps_1, prop.enterFrom);\n        }\n      });\n      var config = getElementAnimationConfig('enter', el, elOption, animatableModel, dataIndex);\n\n      if (config.duration > 0) {\n        el.animateFrom(enterFromProps_1, config);\n      }\n    } else {\n      applyPropsTransition(el, elOption, dataIndex || 0, animatableModel, transFromProps);\n    }\n  } // Store leave to be used in leave transition.\n\n\n  updateLeaveTo(el, elOption);\n  styleOpt ? el.dirty() : el.markRedraw();\n}\nexport function updateLeaveTo(el, elOption) {\n  // Try merge to previous set leaveTo\n  var leaveToProps = transitionInnerStore(el).leaveToProps;\n\n  for (var i = 0; i < ELEMENT_ANIMATABLE_PROPS.length; i++) {\n    var propName = ELEMENT_ANIMATABLE_PROPS[i];\n    var prop = propName ? elOption[propName] : elOption;\n\n    if (prop && prop.leaveTo) {\n      if (!leaveToProps) {\n        leaveToProps = transitionInnerStore(el).leaveToProps = {};\n      }\n\n      if (propName) {\n        leaveToProps[propName] = leaveToProps[propName] || {};\n      }\n\n      extend(propName ? leaveToProps[propName] : leaveToProps, prop.leaveTo);\n    }\n  }\n}\nexport function applyLeaveTransition(el, elOption, animatableModel, onRemove) {\n  if (el) {\n    var parent_1 = el.parent;\n    var leaveToProps = transitionInnerStore(el).leaveToProps;\n\n    if (leaveToProps) {\n      // TODO TODO use leave after leaveAnimation in series is introduced\n      // TODO Data index?\n      var config = getElementAnimationConfig('update', el, elOption, animatableModel, 0);\n\n      config.done = function () {\n        parent_1.remove(el);\n        onRemove && onRemove();\n      };\n\n      el.animateTo(leaveToProps, config);\n    } else {\n      parent_1.remove(el);\n      onRemove && onRemove();\n    }\n  }\n}\nexport function isTransitionAll(transition) {\n  return transition === 'all';\n}\n\nfunction applyPropsDirectly(el, // Can be null/undefined\nallPropsFinal, clearStyle) {\n  var styleOpt = allPropsFinal.style;\n\n  if (!el.isGroup && styleOpt) {\n    if (clearStyle) {\n      el.useStyle({}); // When style object changed, how to trade the existing animation?\n      // It is probably complicated and not needed to cover all the cases.\n      // But still need consider the case:\n      // (1) When using init animation on `style.opacity`, and before the animation\n      //     ended users triggers an update by mousewhel. At that time the init\n      //     animation should better be continued rather than terminated.\n      //     So after `useStyle` called, we should change the animation target manually\n      //     to continue the effect of the init animation.\n      // (2) PENDING: If the previous animation targeted at a `val1`, and currently we need\n      //     to update the value to `val2` and no animation declared, should be terminate\n      //     the previous animation or just modify the target of the animation?\n      //     Therotically That will happen not only on `style` but also on `shape` and\n      //     `transfrom` props. But we haven't handle this case at present yet.\n      // (3) PENDING: Is it proper to visit `animators` and `targetName`?\n\n      var animators = el.animators;\n\n      for (var i = 0; i < animators.length; i++) {\n        var animator = animators[i]; // targetName is the \"topKey\".\n\n        if (animator.targetName === 'style') {\n          animator.changeTarget(el.style);\n        }\n      }\n    }\n\n    el.setStyle(styleOpt);\n  }\n\n  if (allPropsFinal) {\n    // Not set style here.\n    allPropsFinal.style = null; // Set el to the final state firstly.\n\n    allPropsFinal && el.attr(allPropsFinal);\n    allPropsFinal.style = styleOpt;\n  }\n}\n\nfunction applyPropsTransition(el, elOption, dataIndex, model, // Can be null/undefined\ntransFromProps) {\n  if (transFromProps) {\n    var config = getElementAnimationConfig('update', el, elOption, model, dataIndex);\n\n    if (config.duration > 0) {\n      el.animateFrom(transFromProps, config);\n    }\n  }\n}\n\nfunction applyMiscProps(el, elOption) {\n  // Merge by default.\n  hasOwn(elOption, 'silent') && (el.silent = elOption.silent);\n  hasOwn(elOption, 'ignore') && (el.ignore = elOption.ignore);\n\n  if (el instanceof Displayable) {\n    hasOwn(elOption, 'invisible') && (el.invisible = elOption.invisible);\n  }\n\n  if (el instanceof Path) {\n    hasOwn(elOption, 'autoBatch') && (el.autoBatch = elOption.autoBatch);\n  }\n} // Use it to avoid it be exposed to user.\n\n\nvar tmpDuringScope = {};\nvar transitionDuringAPI = {\n  // Usually other props do not need to be changed in animation during.\n  setTransform: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(hasOwn(TRANSFORM_PROPS_MAP, key), 'Only ' + transformPropNamesStr + ' available in `setTransform`.');\n    }\n\n    tmpDuringScope.el[key] = val;\n    return this;\n  },\n  getTransform: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(hasOwn(TRANSFORM_PROPS_MAP, key), 'Only ' + transformPropNamesStr + ' available in `getTransform`.');\n    }\n\n    return tmpDuringScope.el[key];\n  },\n  setShape: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var el = tmpDuringScope.el;\n    var shape = el.shape || (el.shape = {});\n    shape[key] = val;\n    el.dirtyShape && el.dirtyShape();\n    return this;\n  },\n  getShape: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var shape = tmpDuringScope.el.shape;\n\n    if (shape) {\n      return shape[key];\n    }\n  },\n  setStyle: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var el = tmpDuringScope.el;\n    var style = el.style;\n\n    if (style) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (eqNaN(val)) {\n          warn('style.' + key + ' must not be assigned with NaN.');\n        }\n      }\n\n      style[key] = val;\n      el.dirtyStyle && el.dirtyStyle();\n    }\n\n    return this;\n  },\n  getStyle: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var style = tmpDuringScope.el.style;\n\n    if (style) {\n      return style[key];\n    }\n  },\n  setExtra: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var extra = tmpDuringScope.el.extra || (tmpDuringScope.el.extra = {});\n    extra[key] = val;\n    return this;\n  },\n  getExtra: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var extra = tmpDuringScope.el.extra;\n\n    if (extra) {\n      return extra[key];\n    }\n  }\n};\n\nfunction assertNotReserved(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (key === 'transition' || key === 'enterFrom' || key === 'leaveTo') {\n      throw new Error('key must not be \"' + key + '\"');\n    }\n  }\n}\n\nfunction duringCall() {\n  // Do not provide \"percent\" until some requirements come.\n  // Because consider thies case:\n  // enterFrom: {x: 100, y: 30}, transition: 'x'.\n  // And enter duration is different from update duration.\n  // Thus it might be confused about the meaning of \"percent\" in during callback.\n  var scope = this;\n  var el = scope.el;\n\n  if (!el) {\n    return;\n  } // If el is remove from zr by reason like legend, during still need to called,\n  // becuase el will be added back to zr and the prop value should not be incorrect.\n\n\n  var latestUserDuring = transitionInnerStore(el).userDuring;\n  var scopeUserDuring = scope.userDuring; // Ensured a during is only called once in each animation frame.\n  // If a during is called multiple times in one frame, maybe some users' calulation logic\n  // might be wrong (not sure whether this usage exists).\n  // The case of a during might be called twice can be: by default there is a animator for\n  // 'x', 'y' when init. Before the init animation finished, call `setOption` to start\n  // another animators for 'style'/'shape'/'extra'.\n\n  if (latestUserDuring !== scopeUserDuring) {\n    // release\n    scope.el = scope.userDuring = null;\n    return;\n  }\n\n  tmpDuringScope.el = el; // Give no `this` to user in \"during\" calling.\n\n  scopeUserDuring(transitionDuringAPI); // FIXME: if in future meet the case that some prop will be both modified in `during` and `state`,\n  // consider the issue that the prop might be incorrect when return to \"normal\" state.\n}\n\nfunction prepareShapeOrExtraTransitionFrom(mainAttr, fromEl, elOption, transFromProps) {\n  var attrOpt = elOption[mainAttr];\n\n  if (!attrOpt) {\n    return;\n  }\n\n  var elPropsInAttr = fromEl[mainAttr];\n  var transFromPropsInAttr;\n\n  if (elPropsInAttr) {\n    var transition = elOption.transition;\n    var attrTransition = attrOpt.transition;\n\n    if (attrTransition) {\n      !transFromPropsInAttr && (transFromPropsInAttr = transFromProps[mainAttr] = {});\n\n      if (isTransitionAll(attrTransition)) {\n        extend(transFromPropsInAttr, elPropsInAttr);\n      } else {\n        var transitionKeys = normalizeToArray(attrTransition);\n\n        for (var i = 0; i < transitionKeys.length; i++) {\n          var key = transitionKeys[i];\n          var elVal = elPropsInAttr[key];\n          transFromPropsInAttr[key] = elVal;\n        }\n      }\n    } else if (isTransitionAll(transition) || indexOf(transition, mainAttr) >= 0) {\n      !transFromPropsInAttr && (transFromPropsInAttr = transFromProps[mainAttr] = {});\n      var elPropsInAttrKeys = keys(elPropsInAttr);\n\n      for (var i = 0; i < elPropsInAttrKeys.length; i++) {\n        var key = elPropsInAttrKeys[i];\n        var elVal = elPropsInAttr[key];\n\n        if (isNonStyleTransitionEnabled(attrOpt[key], elVal)) {\n          transFromPropsInAttr[key] = elVal;\n        }\n      }\n    }\n  }\n}\n\nfunction prepareShapeOrExtraAllPropsFinal(mainAttr, elOption, allProps) {\n  var attrOpt = elOption[mainAttr];\n\n  if (!attrOpt) {\n    return;\n  }\n\n  var allPropsInAttr = allProps[mainAttr] = {};\n  var keysInAttr = keys(attrOpt);\n\n  for (var i = 0; i < keysInAttr.length; i++) {\n    var key = keysInAttr[i]; // To avoid share one object with different element, and\n    // to avoid user modify the object inexpectedly, have to clone.\n\n    allPropsInAttr[key] = cloneValue(attrOpt[key]);\n  }\n}\n\nfunction prepareTransformTransitionFrom(el, elOption, transFromProps) {\n  var transition = elOption.transition;\n  var transitionKeys = isTransitionAll(transition) ? TRANSFORMABLE_PROPS : normalizeToArray(transition || []);\n\n  for (var i = 0; i < transitionKeys.length; i++) {\n    var key = transitionKeys[i];\n\n    if (key === 'style' || key === 'shape' || key === 'extra') {\n      continue;\n    }\n\n    var elVal = el[key];\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkTransformPropRefer(key, 'el.transition');\n    } // Do not clone, animator will perform that clone.\n\n\n    transFromProps[key] = elVal;\n  }\n}\n\nfunction prepareTransformAllPropsFinal(el, elOption, allProps) {\n  for (var i = 0; i < LEGACY_TRANSFORM_PROPS.length; i++) {\n    var legacyName = LEGACY_TRANSFORM_PROPS[i];\n    var xyName = LEGACY_TRANSFORM_PROPS_MAP[legacyName];\n    var legacyArr = elOption[legacyName];\n\n    if (legacyArr) {\n      allProps[xyName[0]] = legacyArr[0];\n      allProps[xyName[1]] = legacyArr[1];\n    }\n  }\n\n  for (var i = 0; i < TRANSFORMABLE_PROPS.length; i++) {\n    var key = TRANSFORMABLE_PROPS[i];\n\n    if (elOption[key] != null) {\n      allProps[key] = elOption[key];\n    }\n  }\n}\n\nfunction prepareStyleTransitionFrom(fromEl, elOption, styleOpt, transFromProps) {\n  if (!styleOpt) {\n    return;\n  }\n\n  var fromElStyle = fromEl.style;\n  var transFromStyleProps;\n\n  if (fromElStyle) {\n    var styleTransition = styleOpt.transition;\n    var elTransition = elOption.transition;\n\n    if (styleTransition && !isTransitionAll(styleTransition)) {\n      var transitionKeys = normalizeToArray(styleTransition);\n      !transFromStyleProps && (transFromStyleProps = transFromProps.style = {});\n\n      for (var i = 0; i < transitionKeys.length; i++) {\n        var key = transitionKeys[i];\n        var elVal = fromElStyle[key]; // Do not clone, see `checkNonStyleTansitionRefer`.\n\n        transFromStyleProps[key] = elVal;\n      }\n    } else if (fromEl.getAnimationStyleProps && (isTransitionAll(elTransition) || isTransitionAll(styleTransition) || indexOf(elTransition, 'style') >= 0)) {\n      var animationProps = fromEl.getAnimationStyleProps();\n      var animationStyleProps = animationProps ? animationProps.style : null;\n\n      if (animationStyleProps) {\n        !transFromStyleProps && (transFromStyleProps = transFromProps.style = {});\n        var styleKeys = keys(styleOpt);\n\n        for (var i = 0; i < styleKeys.length; i++) {\n          var key = styleKeys[i];\n\n          if (animationStyleProps[key]) {\n            var elVal = fromElStyle[key];\n            transFromStyleProps[key] = elVal;\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction isNonStyleTransitionEnabled(optVal, elVal) {\n  // The same as `checkNonStyleTansitionRefer`.\n  return !isArrayLike(optVal) ? optVal != null && isFinite(optVal) : optVal !== elVal;\n}\n\nvar checkTransformPropRefer;\n\nif (process.env.NODE_ENV !== 'production') {\n  checkTransformPropRefer = function (key, usedIn) {\n    if (!hasOwn(TRANSFORM_PROPS_MAP, key)) {\n      warn('Prop `' + key + '` is not a permitted in `' + usedIn + '`. ' + 'Only `' + keys(TRANSFORM_PROPS_MAP).join('`, `') + '` are permitted.');\n    }\n  };\n}"],"names":["getStateToRestore","makeInner","KEYFRAME_EXCLUDE_KEYS","stopPreviousKeyframeAnimationAndRestore","el","stopAnimation","attr","applyKeyframeAnimation","animationOpts","animatableModel","isAnimationEnabled","isArray","each","singleAnimationOpts","keyframes","duration","config","getAnimationConfig","stateToRestore","ELEMENT_ANIMATABLE_PROPS","targetPropName","animator","sort","a","b","percent","kf","animators","kfValues","propKeys","keys","filter","key","indexOf","length","animate","loop","scope","i","targetName","stopTracks","savedTarget","whenWithKeys","easing","delay","start","LEGACY_TRANSFORM_PROPS_MAP","position","scale","origin","LEGACY_TRANSFORM_PROPS","reduce","TRANSFORMABLE_PROPS","obj","transitionInnerStore","getElementAnimationConfig","animationType","elOption","parentModel","dataIndex","animationProp","userDuring","during","bind","duringCall","setToFinal","extend","applyUpdateTransition","opts","isInit","clearStyle","hasAnimation","store","styleOpt","style","transFromProps","propsToSet","allProps","legacyName","xyName","legacyArr","prepareTransformAllPropsFinal","prepareShapeOrExtraAllPropsFinal","transition","transitionKeys","isTransitionAll","normalizeToArray","elVal","process","prepareTransformTransitionFrom","prepareShapeOrExtraTransitionFrom","fromEl","transFromStyleProps","fromElStyle","styleTransition","elTransition","getAnimationStyleProps","animationProps","animationStyleProps","styleKeys","prepareStyleTransitionFrom","allPropsFinal","isGroup","useStyle","changeTarget","setStyle","applyPropsDirectly","hasOwn","silent","ignore","Displayable","invisible","Path","autoBatch","applyMiscProps","enterFromProps_1","propName","prop","enterFrom","animateFrom","model","applyPropsTransition","updateLeaveTo","dirty","markRedraw","leaveToProps","leaveTo","applyLeaveTransition","onRemove","parent_1","parent","done","remove","animateTo","tmpDuringScope","transitionDuringAPI","setTransform","val","this","getTransform","setShape","shape","dirtyShape","getShape","dirtyStyle","getStyle","setExtra","extra","getExtra","latestUserDuring","scopeUserDuring","mainAttr","attrOpt","transFromPropsInAttr","elPropsInAttr","attrTransition","elPropsInAttrKeys","isNonStyleTransitionEnabled","allPropsInAttr","keysInAttr","cloneValue","optVal","isArrayLike","isFinite"],"sourceRoot":""}
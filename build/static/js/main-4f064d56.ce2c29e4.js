"use strict";(self.webpackChunkssv_front=self.webpackChunkssv_front||[]).push([[5042],{89668:function(e,n,s){s.d(n,{Z:function(){return A}});var t=s(86824),i=s(11087),r=s(44119),c=s(52942),l=s(95048),a=s(57689),u=s(37502),o=s(13272),d=s(4252),h=s(61922),j=s(67060),x=s(64182),p=s(69771),f=s(72791),m=s(80184),Z=function(){var e=(0,l.v9)((function(e){var n;return null==e||null===(n=e.user)||void 0===n?void 0:n.public_key}),l.wU),n=(0,l.I0)(),s=((0,a.UO)(),(0,a.TH)());return(0,f.useEffect)((function(){var s=function(s,t){0!==s.length&&s[0]===e||n({type:"user/login",payload:{cancel:!0}})};return window.ethereum?window.ethereum.on("accountsChanged",s):console.log("=不支持钱包"),function(){window.ethereum&&window.ethereum.removeListener("accountsChanged",s)}}),[]),e||s.pathname.includes("confirm")?(0,m.jsx)(f.Suspense,{fallback:(0,m.jsx)("div",{}),children:(0,m.jsxs)(a.Z5,{children:[(0,m.jsx)(a.AW,{path:"/metrics",element:(0,m.jsx)(u.Z,{})}),(0,m.jsx)(a.AW,{path:"/subscribe",element:(0,m.jsx)(d.Z,{})}),(0,m.jsx)(a.AW,{path:"/history/:id",element:(0,m.jsx)(h.Z,{})}),(0,m.jsx)(a.AW,{path:"/confirm/:id/:sign",element:(0,m.jsx)(p.Z,{})}),(0,m.jsx)(a.AW,{path:"/subscribe/add",element:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(a.AW,{path:"/subscribe/:subscribeId",element:(0,m.jsx)(o.Z,{}),children:(0,m.jsx)(a.AW,{path:":sign",element:(0,m.jsx)(o.Z,{})})}),(0,m.jsx)(a.AW,{path:"/alerts",element:(0,m.jsx)(x.Z,{}),children:(0,m.jsx)(a.AW,{path:":id/:sign",element:(0,m.jsx)(x.Z,{})})}),(0,m.jsx)(a.AW,{path:"/*",element:(0,m.jsx)(u.Z,{})})]})}):(0,m.jsx)(j.Z,{})},v=(s(69520),s(7477)),g=s(83958),b=t.Z.Content;function w(){var e=(0,l.I0)();return(0,f.useEffect)((function(){var n,s=localStorage.getItem("login");s&&null!==JSON&&void 0!==JSON&&null!==(n=JSON.parse(s))&&void 0!==n&&n.id&&v.Z.get("".concat(g.bB,"users/users/self")).then((function(n){e({type:"user/login",payload:n.data})})).catch((function(n){e({type:"user/login",payload:{cancel:!0}})}))}),[]),(0,m.jsx)(i.VK,{children:(0,m.jsxs)(t.Z,{className:"ssv-page",children:[(0,m.jsx)(r.Z,{}),(0,m.jsx)(b,{children:(0,m.jsx)(Z,{})}),(0,m.jsx)(c.Z,{})]})})}var A=f.memo(w)}}]);
//# sourceMappingURL=main-4f064d56.ce2c29e4.js.map